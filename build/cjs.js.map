{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 367889124ed5441128be","webpack:///./src/index.js","webpack:///./src/cjs.js","webpack:///./src/util.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/babel-runtime/~/core-js/library/fn/object/keys.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.object.keys.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.defined.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.object-sap.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.export.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.global.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.core.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.ctx.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.a-function.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.fails.js","webpack:///./src/root.js","webpack:///./src/debug.js","webpack:///./src/core.js","webpack:///./~/babel-runtime/helpers/typeof.js","webpack:///./~/babel-runtime/core-js/symbol.js","webpack:///./~/babel-runtime/~/core-js/library/fn/symbol/index.js","webpack:///./~/babel-runtime/~/core-js/library/modules/es6.symbol.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.has.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.descriptors.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.redefine.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.hide.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.property-desc.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.shared.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.set-to-string-tag.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.wks.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.uid.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.keyof.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.iobject.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.cof.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.get-names.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.enum-keys.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.is-array.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.an-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.is-object.js","webpack:///./~/babel-runtime/~/core-js/library/modules/$.library.js","webpack:///./src/get.js","webpack:///./src/map.js","webpack:///./src/array.js","webpack:///./src/memoize.js","webpack:///./src/liven.js"],"names":[],"mappings":"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GAAG,UA/wC4D,IAAI,EA+wC3D,iBAAiB,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;;AAE7D,UAAS,UAAU,CAAC,KAAK,EAAE,OAAO,EAAE;AAAE,SAAO,IAAI,UAAU,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EAAE;SACpF,UAAU,GAAV,UAAU;SAAE,aAAa,GAAb,aAAa;SAAE,iBAAiB,GAAjB,iBAAiB,C;;;;;;ACpxCrD;;AAEA;;AAEA;AACA;AACA;;AAEA,2B;;;;;;ACRA,mBAAkB,wD;;;;;;ACAlB;AACA;AACA,iD;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA2B;AAC3B,qBAAoB,4BAA4B,SAAS,IAAI;AAC7D,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,+DAA8D;AAC9D;AACA,MAAK;AACL;AACA,uBAAsB,iCAAiC;AACvD,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,KAAK,QAAQ,iCAAiC;AAClG,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,yBAAwB,eAAe,EAAE;AACzC,yBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;;AAEA,iCAAgC,gBAAgB;;AAEhD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA,8EAA6E,sBAAsB;;AAEnG;AACA;AACA;AACA;AACA;AACA,2C;;;;;;AClOA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACZA,wBAAuB;AACvB;AACA;AACA,G;;;;;;ACHA;AACA;AACA,kCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,EAAC,E;;;;;;ACHD,0C;;;;;;ACAA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA,oDAAmD;AACnD;AACA,wCAAuC;AACvC,G;;;;;;ACLA;AACA;AACA;;AAEA;AACA,mEAAkE,+BAA+B;AACjG,G;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACNA;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA,G;;;;;;ACJA,kBAAiB;;AAEjB;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA,mBAAkB;;AAElB;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,G;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"cjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cjs\"] = factory();\n\telse\n\t\troot[\"cjs\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 367889124ed5441128be\n **/","import cjs from \"./cjs\";\n\n// exports with commonjs as webpack's umd does not export es6's module default\nmodule.exports = cjs;\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import { extend, isArray, isObject, isFunction, has, get_array_diff } from \"./util\";\nimport debug from \"./debug\";\nimport constraint, { Constraint, is_constraint, constraint_solver, cjs_wait, cjs_signal }  from \"./core\";\nimport cjs_map, { is_map, MapConstraint } from \"./map\";\nimport cjs_array, { ArrayConstraint, is_array } from \"./array\";\nimport liven from \"./liven\";\nimport memoize from \"./memoize\";\nimport cjs_get from \"./get\";\nimport root from \"./root\";\n// import { isPolyDOM } from \"./template/cjs_template\";\nconst isPolyDOM = () => false; //FIXME: template support\n\n// Save the previous value of the `cjs` variable.\nconst old_cjs = root.cjs;\n\n/**\n * `cjs` is ConstraintJS's only *visible* object; every other method an property is a property of `cjs`.\n * The `cjs` object itself can also be called to create a constraint object.\n *\n * @method cjs\n * @param {object} value - A map of initial values\n * @param {object} options - A set of options to control how the array constraint is evaluated\n * @return {cjs.ArrayConstraint} A new array constraint\n * @see cjs.noConflict\n *\n * @example Creating an array constraint\n *\n *     var cjs_arr = cjs([1,2,3]);\n *         cjs_arr.item(0); // 1\n */\n\n/**\n * Input value constraint\n *\n * @method cjs^2\n * @param {dom} node - The DOM node whose value to follow\n * @return {cjs.Binding} A constraint whose value is the current value of the input\n *\n * @example Creating an input value constraint\n *\n *     var inp_elem = document.getElementById('myTextInput'),\n *         cjs_val = cjs(inp_elem);\n */\n/**\n * Create a map constraint\n *\n * @method cjs^3\n * @param {object} value - A map of initial values\n * @param {object} options - A set of options to control how the map constraint is evaluated\n * @return {cjs.MapConstraint} A new map constraint\n *\n * @example Creating a map constraint\n *\n *     var cobj_obj = cjs({\n *         foo: 1\n *     });\n *     cobj.get('foo'); // 1\n *     cobj.put('bar', 2);\n *     cobj.get('bar') // 2\n */\n/**\n * Create a standard constraint\n *\n * @method cjs^4\n * @param {object} value - The constraint's value\n * @param {object} options - A set of options to control how the constraint is evaluated\n * @return {cjs.Constraint} A new constraint\n * \n * @example Creating an empty constraint\n *\n *     var x = cjs(),\n *         y = cjs(1),\n *         z = cjs(function() {\n *             return y.get() + 1;\n *         });\n *     x.get(); // undefined\n *     y.get(); // 1\n *     z.get(); // 2\n *\n * @example With options\n *\n *     var yes_lit = cjs(function() { return 1; },\n *                         { literal: true }),\n *     var not_lit = cjs(function() { return 1; },\n *                         { literal: false });\n *     yes_lit.get(); // (function)\n *     not_lit.get(); // 1\n */\nfunction cjs (arg0, arg1) {\n\tif(isArray(arg0)) {\n\t\treturn new ArrayConstraint(extend({\n\t\t\tvalue: arg0\n\t\t}, arg1));\n\t} else if(isPolyDOM(arg0)) {\n\t\treturn cjs.inputValue(arg0);\n\t} else if(is_constraint(arg0)) {\n\t\treturn new Constraint(arg0, arg1);\n\t} else if(isObject(arg0) && !isFunction(arg0)) {\n\t\treturn new MapConstraint(extend({\n\t\t\tvalue: arg0\n\t\t}, arg1));\n\t} else {\n\t\treturn new Constraint(arg0, arg1);\n\t}\n}\n\n// Expose core functions\n// -------------------------\nextend(cjs, {\n\t/**\n\t * Constraint constructor\n\t *\n\t * @method cjs.constraint\n\t * @constructs cjs.Constraint\n\t * @param {*} value - The initial value of the constraint or a function to compute its value\n\t * @param {Object} [options] - A set of options to control how and when the constraint's value is evaluated\n\t * @return {cjs.Constraint} - A new constraint object\n\t * @see cjs.Constraint\n\t */\n\tconstraint: constraint,\n\t/** @expose cjs.Constraint */\n\tConstraint: Constraint,\n\t/** @expose cjs.isConstraint */\n\tisConstraint: is_constraint,\n\n\t/**\n\t * Create a new constraint whose value changes by state\n\t *\n\t * @method cjs.inFSM\n\t * @param {cjs.FSM} fsm - The finite-state machine to depend on\n\t * @param {Object} values - Keys are the state specifications for the FSM, values are the value for those specific states\n\t * @return {cjs.Constraint} - A new constraint object\n\t * @see cjs.Constraint.prototype.inFSM\n\t *\n\t * @example\n\t *\n\t *     var fsm = cjs.fsm(\"state1\", \"state2\")\n\t *                  .addTransition(\"state1\", \"state2\",\n\t *                       cjs.on(\"click\"));\n\t *     var x = cjs.inFSM(fsm, {\n\t *         state1: 'val1',\n\t *         state2: function() { return 'val2'; }\n\t *     });\n\t */\n\tinFSM: function(fsm, values) {\n\t\treturn (new Constraint()).inFSM(fsm, values);\n\t},\n\n\t/**\n\t * Gets the value of an object regardless of if it's a constraint (standard, array, or map) or not.\n\t *\n\t * @method cjs.get\n\t * @param {*} obj - The object whose value to return\n\t * @param {boolean} [autoAddOutgoing=true] - Whether to automatically add a dependency from this constraint to ones that depend on it.\n\t * @return {*} - The value\n\t *\n\t * @see cjs.isConstraint\n\t * @see cjs.Constraint.prototype.get\n\t * @see cjs.isArrayConstraint\n\t * @see cjs.ArrayConstraint.prototype.toArray\n\t * @see cjs.isMapConstraint\n\t * @see cjs.MapConstraint.prototype.toObject\n\t *\n\t * @example\n\t *     var w = 1,\n\t *         x = cjs(2),\n\t *         y = cjs(['a','b']),\n\t *         z = cjs({c: 2});\n\t *\n\t *     cjs.get(w); // 1\n\t *     cjs.get(x); // 2\n\t *     cjs.get(y); // ['a','b'] \n\t *     cjs.get(z); // {c: 2}\n\t */\n\tget: cjs_get,\n\n\t/** @expose cjs.wait */\n\twait: cjs_wait,\n\t/** @expose cjs.signal */\n\tsignal: cjs_signal,\n\t/** @expose cjs.removeDependency */\n\tremoveDependency: constraint_solver.removeDependency,\n\n\t/** @expose cjs.arrayDiff */\n\tarrayDiff: get_array_diff, // expose this useful function\n\n\t/**\n\t * The version number of ConstraintJS\n\t * @property {string} cjs.version\n\t * @see cjs.toString\n\t */\n\tversion: \"<%= version %>\", // This template will be filled in by the builder\n\n\t/**\n\t * Print out the name and version of ConstraintJS\n\t *\n\t * @method cjs.toString\n\t * @return {string} - `ConstraintJS v(version#)`\n\t * @see cjs.version\n\t */\n\ttoString: function() { return \"ConstraintJS v\" + cjs.version; },\n\n\tget __debug(){\n\t\treturn debug.__debug;\n\t},\n\n\tset __debug(val){\n\t\tdebug.__debug = val;\n\t},\n\n\t/**\n\t * Restore the previous value of `cjs`\n\t *\n\t * @method cjs.noConflict\n\t * @return {object} - `cjs`\n\t *\n\t * @example Renaming `cjs` to `ninjaCJS`\n\t *\n\t *     var ninjaCJS = cjs.noConflict();\n\t *     var x = ninjaCJS(1);\n\t * @see cjs\n\t */\n\tnoConflict: has(root, \"cjs\") ?  function() {\n\t\t\t\t\t\t\t\t\t\t// If there was a previous `cjs` property then track it\n\t\t\t\t\t\t\t\t\t\t// and allow `cjs.noConflict` to restore its previous value\n\t\t\t\t\t\t\t\t\t\tif(root.cjs === cjs) { root.cjs = old_cjs; }\n\t\t\t\t\t\t\t\t\t\t// and return a reference to `cjs` if the user wants it\n\t\t\t\t\t\t\t\t\t\treturn cjs;\n\t\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\t\t// ...otherwise, `cjs.noConflict` will just delete the old value\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\tdelete root.cjs;\n\t\t\t\t\t\t\t\t\t\treturn cjs;\n\t\t\t\t\t\t\t\t\t},\n\n\t/** @expose cjs.map **/\n\tmap: cjs_map,\n\t/** @expose cjs.MapConstraint */\n\tMapConstraint: MapConstraint,\n\t/** @expose cjs.isMapConstraint */\n\tisMapConstraint: is_map,\n\n\t/** @expose cjs.array **/\n\tarray: cjs_array,\n\t/** @expose cjs.ArrayConstraint */\n\tArrayConstraint: ArrayConstraint,\n\t/** @expose cjs.isArrayConstraint */\n\tisArrayConstraint: is_array,\n\n\t/** @expose cjs.liven */\n\tliven: liven,\n\n\t/** @expose cjs.memoize */\n\tmemoize: memoize\n});\n\nexport default cjs;\n\n\n/** WEBPACK FOOTER **\n ** ./src/cjs.js\n **/","import root from \"./root\";\n\n/*jslint eqnull: true */\n\n// Utility functions\n// -----------------\n\n// Many of the functions here are from http://underscorejs.org/\n// Save bytes in the minified (but not gzipped) version:\nvar ArrayProto = Array.prototype, ObjProto = Object.prototype,\n\tFuncProto = Function.prototype, StringProto = String.prototype;\n\n// Create quick reference variables for speed access to core prototypes.\nvar slice         = ArrayProto.slice,\n\ttoString      = ObjProto.toString,\n\tconcat        = ArrayProto.concat,\n\tpush          = ArrayProto.push;\n\n// All **ECMAScript 5** native function implementations that we hope to use\n// are declared here.\nvar nativeSome    = ArrayProto.some,\n\tnativeIndexOf = ArrayProto.indexOf,\n\tnativeLastIndexOf = ArrayProto.lastIndexOf,\n\tnativeEvery   = ArrayProto.every,\n\tnativeForEach = ArrayProto.forEach,\n\tnativeKeys    = Object.keys,\n\tnativeFilter  = ArrayProto.filter,\n\tnativeReduce  = ArrayProto.reduce,\n\tnativeMap     = ArrayProto.map,\n\tnativeTrim    = StringProto.trim;\n\n//Bind a function to a context\nvar bind = function (func, context) { return function () { return func.apply(context, arguments); }; },\n\tbindArgs = function(func) { var args = rest(arguments, 1); return function() { return func.apply(this, args); }; },\n\ttrim = function(str){\n\t\treturn nativeTrim ? nativeTrim.call(str) : String(str).replace(/^\\s+|\\s+$/g, '');\n    },\n\tdoc\t= root.document,\n\tsTO = function(a,b) { return root.setTimeout(a,b); },\n\tcTO = function(a,b) { return root.clearTimeout(a,b); },\n\t// Binary and unary operators will be used for constraint modifiers and for templates,\n\t// which allow these operators to be used in constraints\n\tunary_operators = { \"+\": function (a) { return +a; }, \"-\": function (a) { return -a; },\n\t\t\t\t\t\t\"~\": function (a) { return ~a; }, \"!\": function (a) { return !a; }\n\t},\n\tbinary_operators = {\"===\": function (a, b) { return a === b;}, \"!==\":function (a, b) { return a !== b; },\n\t\t\t\t\t\t\"==\":  function (a, b) { return a == b; }, \"!=\": function (a, b) { return a != b; },\n\t\t\t\t\t\t\">\":   function (a, b) { return a > b;  }, \">=\": function (a, b) { return a >= b; },\n\t\t\t\t\t\t\"<\":   function (a, b) { return a < b;  }, \"<=\": function (a, b) { return a <= b; },\n\t\t\t\t\t\t\"+\":   function (a, b) { return a + b;  }, \"-\":  function (a, b) { return a - b; },\n\t\t\t\t\t\t\"*\":   function (a, b) { return a * b;  }, \"/\":  function (a, b) { return a / b; },\n\t\t\t\t\t\t\"%\":   function (a, b) { return a % b;  }, \"^\":  function (a, b) { return a ^ b; },\n\t\t\t\t\t\t\"&&\":  function (a, b) { return a && b; }, \"||\": function (a, b) { return a || b; },\n\t\t\t\t\t\t\"&\":   function (a, b) { return a & b;  }, \"|\":  function (a, b) { return a | b; },\n\t\t\t\t\t\t\"<<\":  function (a, b) { return a << b; }, \">>\": function (a, b) { return a >> b; },\n\t\t\t\t\t\t\">>>\": function (a, b) { return a >>> b;}\n\t};\n\n\nvar getTextContent, setTextContent;\nif(doc && !('textContent' in doc.createElement('div'))) {\n\tgetTextContent = function(node) {\n\t\treturn node && node.nodeType === 3 ? node.nodeValue : node.innerText;\n\t};\n\tsetTextContent = function(node, val) {\n\t\tif(node && node.nodeType === 3) {\n\t\t\tnode.nodeValue = val;\n\t\t} else {\n\t\t\tnode.innerText = val;\n\t\t}\n\t};\n} else {\n\tgetTextContent = function(node) { return node.textContent; };\n\tsetTextContent = function(node, val) { node.textContent = val; };\n}\n\nvar aEL = function(node, type, callback) {\n\tif(node.addEventListener) {\n\t\tnode.addEventListener(type, callback);\n\t} else {\n\t\tnode.attachEvent(\"on\"+type, callback);\n\t}\n}, rEL = function(node, type, callback) {\n\tif(node.removeEventListener) {\n\t\tnode.removeEventListener(type, callback);\n\t} else {\n\t\tnode.detachEvent(\"on\"+type, callback);\n\t}\n};\n\n// Establish the object that gets returned to break out of a loop iteration.\nvar breaker = {};\n\n// Creating a unique id for constraints allows for quicker referencing\nvar uniqueId = (function () {\n\tvar id = 0;\n\treturn function () { return id++; };\n}());\n\n// Create a (shallow-cloned) duplicate of an object.\nvar clone = function(obj) {\n\tif (!isObject(obj)) { return obj; }\n\treturn isArray(obj) ? obj.slice() : extend({}, obj);\n};\n\n// Returns the keys of an object\nvar keys = nativeKeys || function (obj) {\n\tif (obj !== Object(obj)) { throw new TypeError('Invalid object'); }\n\tvar keys = [], key, len = 0;\n\tfor (key in obj) {\n\t\tif (hOP.call(obj, key)) {\n\t\t\tkeys[len++] = key;\n\t\t}\n\t}\n\treturn keys;\n};\n\n// Get the last element of an array. Passing **n** will return the last N\n// values in the array.\nvar last = function(array, n) {\n\tif (!array) {\n\t\treturn void 0;\n\t} else if (n===undefined) {\n\t\treturn array[array.length - 1];\n\t} else {\n\t\treturn slice.call(array, Math.max(array.length - n, 0));\n\t}\n};\n\n// Determine if at least one element in the object matches a truth test.\n// Delegates to **ECMAScript 5**'s native `some` if available.\nvar any = function(obj, iterator, context) {\n\tvar result = false;\n\tif (!obj) { return result; }\n\tif (nativeSome && obj.some === nativeSome) { return obj.some(iterator, context); }\n\teach(obj, function(value, index, list) {\n\t\tif (result || (result = iterator.call(context, value, index, list))) { return breaker; }\n\t});\n\treturn !!result;\n};\n\n// Returns everything but the first entry of the array.\n// Especially useful on the arguments object. Passing an **n** will return\n// the rest N values in the array.\nvar rest = function(array, n) {\n\treturn slice.call(array, n === undefined ? 1 : n);\n};\n\n// Trim out all falsy values from an array.\nvar compact = function(array) {\n\treturn filter(array, identity);\n};\n\n// Determine whether all of the elements match a truth test.\n// Delegates to **ECMAScript 5**'s native `every` if available.\nvar every = function(obj, iterator, context) {\n\titerator = iterator || identity;\n\tvar result = true;\n\tif (!obj) {\n\t\treturn result;\n\t} else if (nativeEvery && obj.every === nativeEvery) {\n\t\treturn obj.every(iterator, context);\n\t} else {\n\t\teach(obj, function(value, index, list) {\n\t\t\tif (!(result = result && iterator.call(context, value, index, list))) {\n\t\t\t\treturn breaker;\n\t\t\t}\n\t\t});\n\t\treturn !!result;\n\t}\n};\n\n// Recursive call for flatten (from underscore)\nvar recursiveFlatten = function(input, shallow, output) {\n\tif (shallow && every(input, isArray)) {\n\t\treturn concat.apply(output, input);\n\t}\n\teach(input, function(value) {\n\t\tif (isArray(value) || isArguments(value)) {\n\t\t\tif(shallow) {\n\t\t\t\tpush.apply(output, value);\n\t\t\t} else {\n\t\t\t\trecursiveFlatten(value, shallow, output);\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t});\n\treturn output;\n};\n\n// Initial call to the recursive flatten function\nvar flatten = function(input, shallow) {\n\treturn recursiveFlatten(input, shallow, []);\n};\n\n// Retrieve the values of an object's properties.\nvar values = function (obj) {\n\tvar values = [];\n\tvar key;\n\tfor (key in obj) {\n\t\tif (obj.hasOwnProperty(key)) {\n\t\t\tvalues.push(obj[key]);\n\t\t}\n\t}\n\treturn values;\n};\n\n// Is a given value a number?\nvar isNumber = function (obj) {\n\t\treturn toString.call(obj) === '[object Number]';\n\t},\n\t// Is a given value an array?\n\t// Delegates to ECMA5's native Array.isArray\n\tisArray = Array.isArray || function (obj) {\n\t\treturn toString.call(obj) === '[object Array]';\n\t},\n\t// Is a given value a function?\n\tisFunction = function (obj) {\n\t\treturn toString.call(obj) === '[object Function]';\n\t},\n\t// Is the given value a String?\n\tisString = function (obj) {\n\t\treturn toString.call(obj) === '[object String]';\n\t},\n\t// Is a given variable an object?\n\tisObject = function (obj) {\n\t\treturn obj === Object(obj);\n\t},\n\t// Is a given value a DOM element?\n\tisElement = function(obj) {\n\t\treturn !!(obj && obj.nodeType === 1);\n\t},\n\t// Any element of any type?\n\tisAnyElement = function(obj) {\n\t\treturn !!(obj && (obj.nodeType > 0));\n\t},\n\t// Is a given variable an arguments object?\n\tisArguments = function (obj) {\n\t\treturn toString.call(obj) === '[object Arguments]';\n\t};\n \n// Keep the identity function around for default iterators.\nvar identity = function (value) {\n\treturn value;\n};\n\n// Safely convert anything iterable into a real, live array.\nvar toArray = function (obj) {\n\tif (!obj) { return []; }\n\tif (isArray(obj)) { return slice.call(obj); }\n\tif (isArguments(obj)) { return slice.call(obj); }\n\tif (obj.toArray && isFunction(obj.toArray)) { return obj.toArray(); }\n\treturn map(obj, identity);\n};\n\n// `hasOwnProperty` proxy, useful if you don't know if obj is null or not\nvar hOP = ObjProto.hasOwnProperty,\n\thas = function (obj, key) {\n\t\treturn hOP.call(obj, key);\n\t},\n\thasAny = function(obj) {\n\t\treturn any(rest(arguments), function(x) { return has(obj, x); });\n\t};\n\n// Run through each element and calls `iterator` where `this` === `context`\n\nvar each = function(obj, iterator, context) {\n\tvar i, length;\n\tif (!obj) { return; }\n\tif (nativeForEach && obj.forEach === nativeForEach) {\n\t\tobj.forEach(iterator, context);\n\t} else if (obj.length === +obj.length) {\n\t\ti=0; length = obj.length;\n\t\tfor (; i < length; i++) {\n\t\t\tif (iterator.call(context, obj[i], i, obj) === breaker) return;\n\t\t}\n\t} else {\n\t\tvar kys = keys(obj);\n\t\ti=0; length = kys.length;\n\t\t\n\t\tfor (; i < length; i++) {\n\t\t\tif (iterator.call(context, obj[kys[i]], kys[i], obj) === breaker) return;\n\t\t}\n\t}\n\treturn obj;\n};\n\n// Run through each element and calls 'iterator' where 'this' === context\n// and returns the return value for every element\nvar map = function (obj, iterator, context) {\n\tvar results = [];\n\tif (!obj) { return results; }\n\tif (nativeMap && obj.map === nativeMap) { return obj.map(iterator, context); }\n\teach(obj, function (value, index, list) {\n\t\tresults[results.length] = iterator.call(context, value, index, list);\n\t});\n\tif (obj.length === +obj.length) { results.length = obj.length; }\n\treturn results;\n};\n\n// Return all the elements that pass a truth test.\n// Delegates to **ECMAScript 5**'s native `filter` if available.\nvar filter = function(obj, iterator, context) {\n\tvar results = [];\n\tif (!obj) { return results; }\n\tif (nativeFilter && obj.filter === nativeFilter) { return obj.filter(iterator, context); }\n\teach(obj, function(value, index, list) {\n\t\tif (iterator.call(context, value, index, list)) { results.push(value); }\n\t});\n\treturn results;\n};\n\n// Extend a given object with all the properties in passed-in object(s).\nvar extend = function (obj) {\n\teach(slice.call(arguments, 1), function(source) {\n\t\tif (source) {\n\t\t\tfor (var prop in source) {\n\t\t\t\tif(source.hasOwnProperty(prop)) {\n\t\t\t\t\tobj[prop] = source[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\treturn obj;\n};\n\t\n// Return the first item in arr where test is true\nvar indexWhere = function (arr, test, start_index) {\n\t\tvar i, len = arr.length;\n\t\tfor (i = start_index || 0; i < len; i++) {\n\t\t\tif (test(arr[i], i)) { return i; }\n\t\t}\n\t\treturn -1;\n\t},\n\tlastIndexWhere = function(arr, test) {\n\t\tvar i, len = arr.length;\n\t\tfor (i = len-1; i >= 0; i--) {\n\t\t\tif (test(arr[i], i)) { return i; }\n\t\t}\n\t\treturn -1;\n\t};\n\n// The default equality check function\nvar eqeqeq = function (a, b) { return a === b; };\n\n// Return the first item in arr equal to item (where equality is defined in equality_check)\nvar indexOf = function (arr, item, start_index, equality_check) {\n\t\tif(!equality_check && !start_index && nativeIndexOf && arr.indexOf === nativeIndexOf) {\n\t\t\treturn arr.indexOf(item);\n\t\t} else {\n\t\t\tequality_check = equality_check || eqeqeq;\n\t\t\treturn indexWhere(arr, function (x) { return equality_check(item, x); }, start_index);\n\t\t}\n\t}, lastIndexOf = function(arr, item, equality_check) {\n\t\tif(nativeLastIndexOf && arr.lastIndexOf === nativeLastIndexOf) {\n\t\t\treturn arr.lastIndexOf(item);\n\t\t} else {\n\t\t\tequality_check = equality_check || eqeqeq;\n\t\t\treturn lastIndexWhere(arr, function (x) { return equality_check(item, x); });\n\t\t}\n\t};\n\t\n// Remove an item in an array\nvar remove = function (arr, obj) {\n\t\treturn removeIndex(arr, indexOf(arr, obj));\n\t},\n\tremoveIndex = function(arr, index) {\n\t\tif (index >= 0) { return arr.splice(index, 1)[0]; }\n\t\treturn index;\n\t};\n\n// Fold down a list of values into a single value\nvar reduce = function(obj, iterator, memo) {\n\tvar initial = arguments.length > 2;\n\tif (!obj) obj = [];\n\tif (nativeReduce && obj.reduce === nativeReduce) {\n\t\treturn initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n\t}\n\teach(obj, function(value, index, list) {\n\t\tmemo = iterator(memo, value, index, list);\n\t});\n\treturn memo;\n};\n\nvar sparse_indexof = function(arr,item,start_index,equals) {\n\t//indexOf is wonky with sparse arrays\n\tvar i = start_index,len = arr.length;\n\twhile(i<len) {\n\t\tif(equals(arr[i], item)) {\n\t\t\treturn i;\n\t\t}\n\t\ti++;\n\t}\n\treturn -1;\n},\npopsym = function (index, x, y, symbols, r, n, equality_check) {\n\t// Longest common subsequence between two arrays, based on\n\t// the [rosetta code implementation](http://rosettacode.org/wiki/Longest_common_subsequence#JavaScript)\n\t\tvar s = x[index],\n\t\t\tpos = symbols[s] + 1;\n\t\tpos = sparse_indexof(y, s, pos > r ? pos : r, equality_check || eqeqeq);\n\t\tif (pos < 0) { pos = n; }\n\t\tsymbols[s] = pos;\n\t\treturn pos;\n\t},\n\tindexed_lcs = function (x, y, equality_check) {\n\t\tvar symbols = {}, r = 0, p = 0, p1, L = 0, idx, i,\n\t\t\tm = x.length, n = y.length, S = new Array(m < n ? n : m);\n\t\tif (n === 0 || m === 0) { return []; }\n\t\tp1 = popsym(0, x, y, symbols, r, n, equality_check);\n\t\tfor (i = 0; i < m; i++) {\n\t\t\tp = (r === p) ? p1 : popsym(i, x, y, symbols, r, n, equality_check);\n\t\t\tp1 = popsym(i + 1, x, y, symbols, r, n, equality_check);\n\n\t\t\tif (p > p1) {\n\t\t\t\ti++;\n\t\t\t\tidx = p1;\n\t\t\t} else {\n\t\t\t\tidx = p;\n\t\t\t}\n\n\t\t\tif (idx === n || i === m) {\n\t\t\t\tp=popsym(i, x, y, symbols, r, n, equality_check);\n\t\t\t} else {\n\t\t\t\tr = idx;\n\t\t\t\tS[L] = {item: x[i], indicies: [i, idx]};\n\t\t\t\tL++;\n\t\t\t}\n\t\t}\n\t\treturn S.slice(0,L);\n\t};\n\n// \"Subtracts\" `y` from `x` (takes `x-y`) and returns a list of items in `x` that aren't in `y`\nvar diff = function (x, y, equality_check) {\n\tvar i, j, xi,\n\t\ty_clone = clone(y),\n\t\tx_len = x.length,\n\t\ty_len = y.length,\n\t\tdiff = [],\n\t\tdiff_len = 0;\n\n\t// If there aren't any items, then the difference is the same as `x`.\n\t// not bothering to return a clone here because diff is private none of my code\n\t// modifies the return value\n\tif(y_len === 0 || x_len === 0) {\n\t\treturn x;\n\t}\n\n\tfor (i = 0; i < x_len; i += 1) {\n\t\txi = x[i];\n\t\tj = indexOf(y_clone, xi, 0, equality_check);\n\t\tif(j >= 0) {\n\t\t\tremoveIndex(y_clone, j);\n\t\t\t// If there's nothing left to subtract, just add the rest of x to diff and return\n\t\t\tif(--y_len === 0) {\n\t\t\t\tdiff.push.apply(diff, rest(x, i+1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tdiff[diff_len] = xi;\n\t\t\tdiff_len++;\n\t\t}\n\t}\n\treturn diff;\n};\n\n// Returns the items that are in both x and y, but also accounts for the count of equivalent items (as defined by equality_check)\n// Examples:\n// `x = [1,2,2,3]`, `y = [1,2,4]` -> `[1,2]`;\n// `x = [1,1,1]`,   `y = [1,1]`   -> `[1,1]`\nvar dualized_intersection = function (x, y, equality_check) {\n\tvar i, j, xi,\n\t\ty_clone = clone(y),\n\t\tx_len = x.length,\n\t\ty_len = y.length,\n\t\tintersection = [];\n\n\tfor (i = 0; i < x_len && y_len > 0; i++) {\n\t\txi = x[i];\n\t\tj = indexOf(y_clone, xi, 0, equality_check);\n\t\tif(j >= 0) {\n\t\t\tintersection.push([xi, removeIndex(y_clone, j)]);\n\t\t\ty_len--;\n\t\t}\n\t}\n\n\treturn intersection;\n};\n\n// Utility functions for `array_source_map`\nvar get_index_moved = function(info) {\n\t\tvar item = info[1].item;\n\t\treturn {item: item, from: info[0].index, to: info[1].index, from_item: info[0].item, to_item: item};\n\t}, \n\tadd_indicies = function(arr) {\n\t\t// suppose you have array `arr` defined by:\n\t\t// arr = []; arr[10] = 'hi';\n\t\t// Looping through arr with arr.forEach (or cjs's map) would only produce the 10th item.\n\t\t// this function is declared to make sure every item is looped through\n\t\tvar i = 0, len = arr.length, rv = [];\n\t\twhile(i<len) {\n\t\t\trv[i] = {item: arr[i], index: i};\n\t\t\ti++;\n\t\t}\n\t\treturn rv;\n\t},\n\tadd_from_to_indicies = function(info) {\n\t\treturn {item: info.item, from: info.indicies[0], to: info.indicies[1]};\n\t},\n\tget_index = function(x) { return x.index; },\n\tget_to = function(x) { return x.to; },\n\tadd_from_and_from_item = function(x) {\n\t\treturn { from: x.index, from_item: x.item };\n\t};\n\n// Get where every item came from and went to and return that map\nvar array_source_map = function (from, to, equality_check) {\n\tvar eq = equality_check || eqeqeq,\n\t\titem_aware_equality_check = function (a, b) { return eq(a ? a.item : a, b ? b.item : b); },\n\t\tindexed_from = add_indicies(from),\n\t\tindexed_to = add_indicies(to),\n\t\tindexed_common_subsequence = map(indexed_lcs(from, to), add_from_to_indicies),\n\t\tindexed_removed = diff(indexed_from, indexed_common_subsequence, item_aware_equality_check),\n\t\tindexed_added = diff(indexed_to, indexed_common_subsequence, item_aware_equality_check),\n\t\tindexed_moved = map(dualized_intersection(indexed_removed, indexed_added, item_aware_equality_check), get_index_moved);\n\n\tindexed_added = diff(indexed_added, indexed_moved, item_aware_equality_check);\n\tindexed_removed = diff(indexed_removed, indexed_moved, item_aware_equality_check);\n\n\tvar added_indicies = map(indexed_added, get_index),\n\t\tmoved_indicies = map(indexed_moved, get_to),\n\t\tics_indicies = map(indexed_common_subsequence, get_to),\n\t\tto_mappings = [],\n\t\ti = 0, len = to.length, info, info_index, item;\n\twhile(i<len) {\n\t\titem = to[i];\n\t\t// Added items\n\t\tif ((info_index = indexOf(added_indicies, i)) >= 0) {\n\t\t\tinfo = indexed_added[info_index];\n\t\t\tto_mappings[i] = { to: i, to_item: item, item: item };\n\t\t} else if ((info_index = indexOf(moved_indicies, i)) >= 0) {\n\t\t\tinfo = indexed_moved[info_index];\n\t\t\tto_mappings[i] = { to: i, to_item: item, item: item, from: info.from, from_item: info.from_item };\n\t\t} else if ((info_index = indexOf(ics_indicies, i)) >= 0) {\n\t\t\tinfo = indexed_common_subsequence[info_index];\n\t\t\tto_mappings[i] = { to: i, to_item: item, item: item, from: info.from, from_item: from[info.from] };\n\t\t}\n\t\ti++;\n\t}\n\n\treturn to_mappings.concat(map(indexed_removed, add_from_and_from_item));\n};\n\n// These utility functions help compute the array diff (without having to re-declare them every time get_array_diff is called\nvar has_from = function(x) { return x.hasOwnProperty(\"from\"); },\n\tnot_has_from = function(x) { return !has_from(x); },\n\thas_to = function(x) { return x.hasOwnProperty(\"to\"); },\n\tnot_has_to = function(x) { return !has_to(x); },\n\thas_from_and_to = function(x) { return has_from(x) && has_to(x); },\n\tunequal_from_to = function(x) { return has_from_and_to(x) && x.from !== x.to; },\n\tsort_by_from_fn = function(a, b) {\n\t\t// This is equivalent to (but faster than):\n\n\t\t//     if (a_has_from && b_has_from) { return a.from - b.from; }\n\t\t//     else if (a_has_from && !b_has_from) { return -1; }\n\t\t//     else if (!a_has_from && b_has_from) { return 1; }\n\t\t//     else { return 0; }\n\t\tvar a_has_from = has_from(a), b_has_from = has_from(b);\n\t\treturn a_has_from && b_has_from ? a.from - b.from : b_has_from - a_has_from;\n\t};\n\n/**\n *\n * `arrayDiff` returns an object with attributes:\n * `removed`, `added`, and `moved`.\n * Every item in `removed` has the format: `{item, index}`\n * Every item in `added` has the format: `{item, index}`\n * Every item in `moved` has the format: `{from_index, to_index}`\n * Every item in `index_changed` has the format: `{from_index, to_index}`\n *\n * When `oldArray` removes every item in `removed`, adds every item in `added`,\n * and moves every item in `moved` (in that order), it will result in an array\n * that is equivalent to `newArray`. Note: this function is used internally to\n * determine how to keep DOM nodes in sync with an underlying model with the\n * smallest number of modifications to the DOM tree.\n *\n * @method cjs.arrayDiff\n * @param {array[*]} from_val - The 'former' array\n * @param {array[*]} to_val - The 'new' array\n * @param {function} [equality_check] - A function that checks for equality between items\n * @return {Object} - added, removed, and moved items\n *\n * @example Taking the diff between `old_array` and `new_array` with the default equality check\n *\n *     var old_array = ['a','b','c'],\n *         new_array = ['c','b','d'],\n *         diff = cjs.arrayDiff(old_array, new_array);\n *\t\t\n *     // diff === {\n *     //   added: [ { item: 'd', to: 2, to_item: 'd' } ],\n *     //   removed: [ { from: 0, from_item: 'a' } ],\n *     //   moved: [ { item: 'c', from: 2, insert_at: 0, move_from: 1, to: 0 } ],\n *     //   index_changed: [ { from: 2, from_item: 'c', item: 'c', to: 0, to_item: 'c' } ]\n *     // }\n *\t\t\n */\nvar get_array_diff = function (from_val, to_val, equality_check) {\n\tvar source_map = array_source_map(from_val, to_val, equality_check),\n\t\trearranged_array = clone(source_map).sort(sort_by_from_fn),\n\n\t\tadded = filter(source_map, not_has_from), // back to front\n\t\tremoved = filter(rearranged_array, not_has_to).reverse(), // back to front\n\t\tindex_changed = filter(source_map, unequal_from_to),\n\t\tmoved = [];\n\n\teach(removed, function (info) { removeIndex(rearranged_array, info.from); });\n\teach(added, function (info) { rearranged_array.splice(info.to, 0, info); });\n\t\n\teach(source_map, function (info, index) {\n\t\tif (has_from_and_to(info)) {\n\t\t\tif (rearranged_array[index] !== info) {\n\t\t\t\tvar rearranged_array_info_index = indexOf(rearranged_array, info, index);\n\t\t\t\trearranged_array.splice(index, 0, removeIndex(rearranged_array, rearranged_array_info_index));\n\t\t\t\tmoved.push({move_from: rearranged_array_info_index, insert_at: index, item: info.item, from: info.from, to: info.to});\n\t\t\t}\n\t\t}\n\t});\n\trearranged_array = null;\n\treturn { added: added, removed: removed, moved: moved, index_changed: index_changed , mapping: source_map};\n};\n\n// Convert dashed to camelCase; used by the css and data modules\n// Microsoft forgot to hump their vendor prefix (#9572)\nvar rdashAlpha = /-([a-z]|[0-9])/ig, rmsPrefix = /^-ms-/,\n\tfcamelCase = function(all, letter) { return String(letter).toUpperCase(); },\n\tcamel_case = function(string) { return string.replace( rmsPrefix, \"ms-\" ).replace(rdashAlpha, fcamelCase); };\n\nvar isPositiveInteger = function (val) {\n\treturn isNumber(val) && Math.round(val) === val && val >= 0;\n};\n\nexport {\n\tisFunction, map, isNumber, slice, eqeqeq, each, has, remove, extend, uniqueId, isString, indexOf, clone,\n\tany, breaker, toArray, removeIndex, reduce, rest, binary_operators, unary_operators, bind, get_array_diff,\n\tFuncProto, ArrayProto, camel_case, lastIndexOf, bindArgs, trim, sTO, cTO, isArray, isObject, identity,\n\tgetTextContent, setTextContent, aEL, rEL, last, compact, flatten, values, isElement, isAnyElement, hasAny,\n\tindexWhere, isPositiveInteger\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/object/keys.js\n ** module id = 3\n ** module chunks = 0\n **/","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/object/keys.js\n ** module id = 4\n ** module chunks = 0\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.object.keys.js\n ** module id = 5\n ** module chunks = 0\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-object.js\n ** module id = 6\n ** module chunks = 0\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.defined.js\n ** module id = 7\n ** module chunks = 0\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.object-sap.js\n ** module id = 8\n ** module chunks = 0\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.export.js\n ** module id = 9\n ** module chunks = 0\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.global.js\n ** module id = 10\n ** module chunks = 0\n **/","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.core.js\n ** module id = 11\n ** module chunks = 0\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.ctx.js\n ** module id = 12\n ** module chunks = 0\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.a-function.js\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.fails.js\n ** module id = 14\n ** module chunks = 0\n **/","const root = (root || window || {});\nexport default root;\n\n\n/** WEBPACK FOOTER **\n ** ./src/root.js\n **/","export default {\n\t/** @private */\n\t__debug: true\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/debug.js\n **/","import {\n\tisFunction, map, isNumber, slice, eqeqeq, each, has, remove, extend, uniqueId, isString, indexOf,\n\tany, breaker, toArray, removeIndex, reduce, rest, binary_operators, unary_operators, bind\n} from \"./util\";\nimport cjs_get, { cjs_getter } from \"./get\";\nimport debug from \"./debug\";\nimport root from \"./root\";\n\n// ConstraintJS Core Functionality\n// -------------------------------\n\nvar Constraint, // Declare here, will be defined later\n\tis_constraint,\n\n\tget_constraint_val = function(x) {\n\t\treturn is_constraint(x) ? x.get() : x;\n\t};\n\n// Constraint Solver\n// -----------------\n// Implements constraint solving, as described in:\n// [Integrating pointer variables into one-way constraint models](http://doi.acm.org/10.1145/180171.180174)\n\n//   Edge from A -> B means A sends data to B\n\nvar constraint_solver = {\n\t// `stack` keeps track of the list of constraints that is currently being fetched. If constraint A is fetched while B is on the top of the stack\n\t// then A is added to the top of the stack and B is marked as dependent on A\n\tstack: [],\n\n\tcheck_on_nullified_ids: {},\n\n\t// node is the Constraint whose value we are fetching and auto_add_outgoing specifies whether dependencies FROM node should\n\t// be automatically added\n\tgetValue: function (auto_add_outgoing, getter_arg) {\n\t\tvar node = this,\n\t\t\tstack = constraint_solver.stack,\n\t\t\tstack_len = stack.length,\n\t\t\tdemanding_var, dependency_edge, tstamp;\n\t\t\n\t\tif (stack_len > 0) { // There's a constraint that's asking for my value\n\t\t\t// Let's call it demanding_var\n\t\t\tdemanding_var = stack[stack_len - 1];\n\t\t\tdependency_edge = node._outEdges[demanding_var._id];\n\t\t\ttstamp = demanding_var._tstamp+1;\n\n\t\t\t// If there's already a dependency set up, mark it as still being used by setting its timestamp to the demanding\n\t\t\t// variable's timestamp + `1` (because that variable's timestamp will be incrememted later on, so they will be equal)\n\t\t\t// \n\t\t\t// Code in the this.nullify will check this timestamp and remove the dependency if it's out of date\n\t\t\tif(dependency_edge) {\n\t\t\t\t// Update timestamp\n\t\t\t\tdependency_edge.tstamp = tstamp;\n\t\t\t} else if(node !== demanding_var) {\n\t\t\t\t// Make sure that the dependency should be added\n\t\t\t\tif (node._options.auto_add_outgoing_dependencies !== false &&\n\t\t\t\t\t\tdemanding_var._options.auto_add_incoming_dependencies !== false &&\n\t\t\t\t\t\tauto_add_outgoing !== false) {\n\t\t\t\t\t// and add it if it should\n\t\t\t\t\tnode._outEdges[demanding_var._id] =\n\t\t\t\t\t\tdemanding_var._inEdges[node._id] = {from: node, to: demanding_var, tstamp: tstamp};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// This node is waiting for an asyncronous value\n\t\tif(node._paused_info) {\n\t\t\t// So return its temporary value until then\n\t\t\treturn node._paused_info.temporaryValue;\n\t\t} else if (!node._valid) {\n\t\t\t// If the node's cached value is invalid...\n\t\t\t// Set the timestamp before fetching in case a constraint depends on itself\n\t\t\tnode._tstamp++;\n\n\t\t\t// Push node onto the stack to make it clear that it's being fetched\n\t\t\tstack[stack_len] = node;\n\n\t\t\t// Mark it as valid\n\t\t\tnode._valid = true;\n\n\t\t\tif (node._options.cache_value !== false) {\n\t\t\t\t// Check if dynamic value. If it is, then call it. If not, just fetch it\n\t\t\t\t// set this to the node's cached value, which will be returned\n\t\t\t\tnode._cached_value = node._options.literal ? node._value :\n\t\t\t\t\t\t\t\t\t\t\t(isFunction(node._value) ? node._value.call(node._options.context || node, node, getter_arg) :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tget_constraint_val(node._value));\n\n\t\t\t\t// The node paused as if this was going to be an asyncronous value but it ended up being syncronous.\n\t\t\t\t// Use that to set the value\n\t\t\t\tif(node._sync_value) {\n\t\t\t\t\tnode._cached_value = node._sync_value.value;\n\t\t\t\t\tdelete node._sync_value;\n\t\t\t\t} else if(constraint_solver._paused_node && constraint_solver._paused_node.node === node) {\n\t\t\t\t\t// The node said it would have an asyncronous value and it did\n\t\t\t\t\t// Save the paused information to the node and remove it from the constraint solver\n\t\t\t\t\tnode._paused_info = constraint_solver._paused_node;\n\t\t\t\t\tdelete constraint_solver._paused_node;\n\t\t\t\t\t//Restore the stack to avoid adding a self-dependency\n\t\t\t\t\tstack.length = stack_len;\n\t\t\t\t\t// And return the temporary value\n\t\t\t\t\treturn node._paused_info.temporaryValue;\n\t\t\t\t}\n\t\t\t} else if(isFunction(node._value)) {\n\t\t\t\t// if it's just a non-cached function call, just call the function\n\t\t\t\tnode._value.call(node._options.context);\n\t\t\t}\n\n\t\t\t// Pop the item off the stack\n\t\t\tstack.length = stack_len;\n\t\t}\n\n\t\treturn node._cached_value;\n\t},\n\n\t// Called when a constraint's getter is paused\n\tpauseNodeGetter: function(temporaryValue) {\n\t\tconstraint_solver._paused_node = {\n\t\t\ttemporaryValue: temporaryValue,\n\t\t\tnode: this\n\t\t};\n\t},\n\t// Called when a constraint's getter is resumed\n\tresumeNodeGetter: function(value) {\n\t\tvar node = this, old_stack;\n\n\t\t// Hey! The node said its value would be asyncronous but it ended up being syncronous\n\t\t// We know because, it paused and then resumed before the constraint solver's paused node information could even\n\t\t// be removed.\n\t\tif(constraint_solver._paused_node && constraint_solver._paused_node.node === node) {\n\t\t\tdelete constraint_solver._paused_node;\n\t\t\tnode._sync_value = { value: value };\n\t\t} else {\n\t\t\t// Nullify every dependent node and update this node's cached value\n\t\t\told_stack = constraint_solver.stack;\n\n\t\t\tdelete node._paused_info;\n\t\t\tnode._tstamp++;\n\t\t\tnode._valid = true;\n\n\t\t\tconstraint_solver.stack = [node];\n\n\t\t\tif (node._options.cache_value !== false) {\n\t\t\t\t// Check if dynamic value. If it is, then call it. If not, just fetch it\n\t\t\t\t// set this to the node's cached value, which will be returned\n\t\t\t\tnode._cached_value = node._options.literal ? value :\n\t\t\t\t\t\t\t\t\t\t\t(isFunction(value) ? value.call(node._options.context || node, node) :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcjs_get(value));\n\t\t\t} else if(isFunction(node._value)) {\n\t\t\t\t// if it's just a non-cached function call, just call the function\n\t\t\t\tvalue.call(node._options.context);\n\t\t\t}\n\n\t\t\tconstraint_solver.nullify.apply(constraint_solver, map(node._outEdges, function(edge) {\n\t\t\t\treturn edge.to;\n\t\t\t}));\n\t\t\tconstraint_solver.stack = old_stack;\n\t\t}\n\t},\n\t\n\t// Utility function to mark a listener as being in the call stack. `this` refers to the constraint node here\n\tadd_in_call_stack: function(nl) {\n\t\tvar nl_priority = nl.priority;\n\n\t\tnl.in_call_stack++;\n\t\tnl.node._num_listeners_in_call_stack++;\n\n\t\tif(isNumber(nl_priority)) {\n\t\t\tvar i = 0, len = this.nullified_call_stack.length, item, item_priority;\n\t\t\twhile(i < len) {\n\t\t\t\titem = this.nullified_call_stack[i];\n\t\t\t\tif(item) {\n\t\t\t\t\titem_priority = item.priority;\n\t\t\t\t\tif(item_priority === false || item_priority < nl_priority) {\n\t\t\t\t\t\tthis.nullified_call_stack.splice(i, 0, nl);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t\tthis.nullified_call_stack.push(nl);\n\t},\n\tnullify: function() {\n\t\t// Unfortunately, running nullification listeners can, in some cases cause nullify to be indirectly called by itself\n\t\t// (as in while running `nullify`). The variable is_root will prevent another call to `run_nullification_listeners` at\n\t\t// the bottom of this function\n\t\tvar i, outgoingEdges, toNodeID, invalid, curr_node, equals, old_value, new_value, changeListeners,\n\t\t\tto_nullify = slice.call(arguments),\n\t\t\tto_nullify_len = to_nullify.length,\n\t\t\tis_root = !this._is_nullifying,curr_node_id;\n\n\t\tif (is_root) {\n\t\t\t// This variable is used to track `is_root` for any potential future calls\n\t\t\tthis._is_nullifying = true;\n\t\t}\n\n\t\t// Using a list instead of a recursive call because the call stack can get tall and annoying for debugging with\n\t\t// recursive calls\n\t\tfor (i = 0; i < to_nullify_len; i+= 1) {\n\t\t\tcurr_node = to_nullify[i]; // the constraint we are currently nullifying\n\t\t\tto_nullify[i] = false; // To save space, stop keeping track of the object (also useful for debugging occasionally)\n\n\t\t\t// We only care to nullify if the current node is actually valid\n\t\t\tif (curr_node._valid) {\n\t\t\t\tcurr_node._valid = false; // Mark it as invalid...\n\t\t\t\tinvalid = true;\n\n\t\t\t\t// The user can also optionally check if the node should be nullified. This is useful if a large number of nodes\n\t\t\t\t// depend on this node, and the potential cost of nullifying/re-evaluating them is higher than the cost of\n\t\t\t\t// re-evaluating this node\n\t\t\t\tif (curr_node._options.cache_value !== false && curr_node._options.check_on_nullify === true &&\n\t\t\t\t\t\t\t// check to make sure we aren't already getting this node to avoid an infinite loop\n\t\t\t\t\t\t\t!this.check_on_nullified_ids[curr_node._id])  {\n\t\t\t\t\tthis.check_on_nullified_ids[curr_node._id] = true;\n\n\t\t\t\t\t// Only mark as invalid if the old value is different from the current value.\n\t\t\t\t\tequals = curr_node._options.equals || eqeqeq;\n\t\t\t\t\told_value = curr_node._cached_value;\n\n\t\t\t\t\tnew_value = curr_node.get(undefined, true);\n\t\t\t\t\tif (equals(old_value, new_value)) {\n\t\t\t\t\t\tinvalid = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If I'm still invalid, after a potential check\n\t\t\t\tif (invalid) {\n\t\t\t\t\t// Add all of the change listeners to the call stack, and mark each change listener\n\t\t\t\t\t// as being in the call stack\n\t\t\t\t\tchangeListeners = curr_node._changeListeners;\n\t\t\t\t\teach(changeListeners, this.add_in_call_stack, this);\n\n\t\t\t\t\t// Then, get every outgoing edge and add it to the nullify queue\n\t\t\t\t\toutgoingEdges = curr_node._outEdges;\n\t\t\t\t\tcurr_node_id = curr_node._id;\n\t\t\t\t\tfor (toNodeID in outgoingEdges) {\n\t\t\t\t\t\tif (has(outgoingEdges, toNodeID)) {\n\t\t\t\t\t\t\tvar outgoingEdge = outgoingEdges[toNodeID];\n\t\t\t\t\t\t\tvar dependentNode = outgoingEdge.to;\n\n\t\t\t\t\t\t\t// If the edge's timestamp is out of date, then this dependency isn't used\n\t\t\t\t\t\t\t// any more and remove it\n\t\t\t\t\t\t\tif (outgoingEdge.tstamp < dependentNode._tstamp) {\n\t\t\t\t\t\t\t\tdelete curr_node._outEdges[toNodeID];\n\t\t\t\t\t\t\t\tdelete dependentNode._inEdges[curr_node_id];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// But if the dependency still is being used, then add it to the nullification\n\t\t\t\t\t\t\t\t// queue\n\t\t\t\t\t\t\t\tto_nullify[to_nullify_len] = dependentNode;\n\t\t\t\t\t\t\t\tto_nullify_len += 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If I'm the first one, then run the nullification listeners and remove the is_nullifying flag\n\t\tif (is_root) {\n\t\t\tthis.check_on_nullified_ids = {};\n\t\t\t// If nobody told us to wait, then run the nullification listeners\n\t\t\tif (this.semaphore >= 0 && this.nullified_call_stack.length > 0) {\n\t\t\t\tthis.run_nullified_listeners();\n\t\t\t}\n\t\t\tdelete this._is_nullifying;\n\t\t}\n\t},\n\t\n\t/**\n\t * \n\t * Remove the edge going from `fromNode` to `toNode`\n\t * @method cjs.removeDependency\n\t */\n\tremoveDependency: function(fromNode, toNode) {\n\t\tdelete fromNode._outEdges[toNode._id];\n\t\tdelete toNode._inEdges[fromNode._id];\n\t},\n\n\t// Use a semaphore to decide when running the nullification listeners is appropriate\n\tsemaphore: 0,\n\n\t/**\n\t * Tells the constraint solver to delay before running any `onChange` listeners\n\t *\n\t * Note that `signal` needs to be called the same number of times as `wait` before\n\t * the `onChange` listeners will run.\n\t * @method cjs.wait\n\t * @see cjs.signal\n\t * @see cjs.onChange\n\t * @example\n\t *     var x = cjs(1);\n\t *     x.onChange(function() {\n\t *         console.log('x changed');\n\t *     });\n\t *     cjs.wait();\n\t *     x.set(2);\n\t *     x.set(3);\n\t *     cjs.signal(); // output: x changed\n\t */\n\twait: function() {\n\t\tthis.semaphore -= 1;\n\t},\n\t/**\n\t * Tells the constraint solver it is ready to run any `onChange` listeners.\n\t * Note that `signal` needs to be called the same number of times as `wait` before\n\t * the `onChange` listeners will run.\n\t * @method cjs.signal\n\t * @see cjs.wait\n\t * @see cjs.onChange\n\t * @example\n\t *     var x = cjs(1);\n\t *     x.onChange(function() {\n\t *         console.log('x changed');\n\t *     });\n\t *     cjs.wait();\n\t *     cjs.wait();\n\t *     x.set(2);\n\t *     x.set(3);\n\t *     cjs.signal();\n\t *     cjs.signal(); // output: x changed\n\t */\n\tsignal: function () {\n\t\tthis.semaphore += 1;\n\t\t// When we signal that we're ready, try running the call stack\n\t\tif (this.semaphore >= 0 && this.nullified_call_stack.length > 0) {\n\t\t\tthis.run_nullified_listeners();\n\t\t}\n\t},\n\t// The list of nullified listeners to run\n\tnullified_call_stack: [],\n\t// Tracks whether we are in the middle of running the nullification listeners\n\trunning_listeners: false,\n\t// Clear all of the dependencies\n\tclearEdges: function(node, silent) {\n\t\tvar loud = silent !== true,\n\t\t\tnode_id = node._id,\n\t\t\tedge, key, inEdges = node._inEdges,\n\t\t\toutEdges = node._outEdges;\n\n\t\tif(loud) { this.wait(); }\n\n\t\t// Clear the incoming edges\n\t\tfor(key in inEdges) {\n\t\t\tif(has(inEdges, key)) {\n\t\t\t\tdelete inEdges[key].from._outEdges[node_id];\n\t\t\t\tdelete inEdges[key];\n\t\t\t}\n\t\t}\n\n\t\t// and the outgoing edges\n\t\tfor(key in outEdges) {\n\t\t\tif(has(outEdges, key)) {\n\t\t\t\tvar toNode = outEdges[key].to;\n\t\t\t\tif (loud) { constraint_solver.nullify(toNode); }\n\t\t\t\t\n\t\t\t\tdelete toNode._inEdges[node_id];\n\t\t\t\tdelete outEdges[key];\n\t\t\t}\n\t\t}\n\n\t\tif(loud) { this.signal(); }\n\t},\n\trun_nullified_listeners: function () {\n\t\tvar nullified_info, callback, context;\n\t\t// Make sure `run_nullified_listeners` isn't indirectly called by itself\n\t\tif (!this.running_listeners) {\n\t\t\tthis.running_listeners = true;\n\t\t\twhile (this.nullified_call_stack.length > 0) {\n\t\t\t\tnullified_info = this.nullified_call_stack.shift();\n\t\t\t\tcallback = nullified_info.callback;\n\t\t\t\tcontext = nullified_info.context || root;\n\n\t\t\t\tnullified_info.in_call_stack--;\n\t\t\t\tnullified_info.node._num_listeners_in_call_stack--;\n\t\t\t\t// If in debugging mode, then call the callback outside of a `try` statement\n\t\t\t\tif(debug.__debug) {\n\t\t\t\t\tcallback.apply(context, nullified_info.args);\n\t\t\t\t} else {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// Call the nullification callback with any specified arguments\n\t\t\t\t\t\tcallback.apply(context, nullified_info.args);\n\t\t\t\t\t} catch(e) {\n\t\t\t\t\t\tif(has(root, \"console\")) {\n\t\t\t\t\t\t\troot.console.error(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.running_listeners = false;\n\t\t}\n\t},\n\tremove_from_call_stack: function(info) {\n\t\twhile(info.in_call_stack > 0) {\n\t\t\tremove(this.nullified_call_stack, info);\n\t\t\tinfo.in_call_stack--;\n\t\t\tinfo.node._num_listeners_in_call_stack--;\n\t\t}\n\t}\n};\n\n// Constraint Variables\n// --------------------\n\n/**\n * ***Note***: The preferred way to create a constraint is with the `cjs.constraint` function (lower-case 'c')\n * `cjs.Constraint` is the constructor for the base constraint. Valid properties for `options` are:\n *\n * - `auto_add_outgoing_dependencies`: allow the constraint solver to determine when things depend on me. *default:* `true`\n * - `auto_add_incoming_dependencies`: allow the constraint solver to determine when things I depend on things. *default:* `true`\n * - `cache_value`: whether or not to keep track of the current value. *default:* `true`\n * - `check_on_nullify`: when nullified, check if my value has actually changed (requires immediately re-evaluating me). *default*: `false`\n * - `context`: if `value` is a function, the value of `this`, when that function is called. *default:* `window`\n * - `equals`: the function to check if two values are equal, *default:* `===`\n * - `literal`: if `value` is a function, the value of the constraint should be the function itself (not its return value). *default:* `false`\n * - `run_on_add_listener`: when `onChange` is called, whether or not immediately validate the value. *default:* `true`\n *\n * @class cjs.Constraint\n * @classdesc A constraint object communicates with the constraint solver to store and maintain constraint values\n * @param {*} value - The initial value of the constraint or a function to compute its value\n * @param {Object} [options] - A set of options to control how and when the constraint's value is evaluated:\n */\nConstraint = function (value, options) {\n\t// These are all hidden values that should not be referred to directly\n\tthis._options = extend({\n\t\tcontext: root\n\t}, options); // keeps track of the above options\n\tthis._value = value; // Constant or a function\n\tthis._id = uniqueId(); // different for every constraint, helps with optimizing speed\n\tthis._outEdges = {}; // The nodes that depend on me, key is link to edge object (with properties toNode, fromNode=this)\n\tthis._inEdges = {}; // The nodes that I depend on, key is link to edge object (with properties toNode=this, fromNode)\n\tthis._changeListeners = []; // A list of callbacks that will be called when I'm nullified\n\tthis._tstamp = 0; // Marks the last time I was updated\n\tthis._num_listeners_in_call_stack = 0; // the number of listeners that are in the call stack\n\n\tif(this._options.literal || (!isFunction(this._value) && !is_constraint(this._value))) {\n\t\t// We already have a value that doesn't need to be computed\n\t\tthis._valid = true; // Tracks whether or not the cached value if valid\n\t\tthis._cached_value = this._value; // Caches the node's value\n\t} else {\n\t\tthis._valid = false;\n\t\tthis._cached_value = undefined;\n\t}\n};\n\n(function(My) {\n\tvar proto = My.prototype;\n\t/** @lends cjs.Constraint.prototype */\n\n\t/**\n\t * Get the current value of this constraint. For computed constraints, if the constraint is invalid, its value will be re-computed.\n\t *\n\t *\n\t * @method get\n\t * @param {boolean} [autoAddOutgoing=true] - Whether to automatically add a dependency from this constraint to ones that depend on it.\n\t * @return {*} The current constraint value\n\t * @see set\n\t *\n\t * @example\n\t *     var x = cjs(1);\n\t *     x.get(); // 1\n\t */\n\tproto.get = constraint_solver.getValue;\n\n\t/**\n\t * Change the current value of the constraint. Other constraints that depend on its value will be invalidated.\n\t *\n\t * @method set\n\t * @see cjs.Constraint\n\t * @param {*} value - The initial value of the constraint or a function to compute its value\n\t * @param {Object} [options] - A set of options to control how and when the constraint's value is evaluated:\n\t * @return {cjs.Constraint} - `this`\n\t * @see get\n\t * @see invalidate\n\t *\n\t * @example\n\t *    var x = cjs(1);\n\t *    x.get(); // 1\n\t *    x.set(function() { return 2; });\n\t *    x.get(); // 2\n\t *    x.set('c');\n\t *    x.get(); // 'c'\n\t */\n\tproto.set = function (value, options) {\n\t\tvar old_value = this._value;\n\t\tthis._value = value;\n\n\t\tif(options && options.silent === true) {\n\t\t\treturn this;\n\t\t} else if (this._options.literal || (!isFunction(value) && !is_constraint(value))) {\n // If it's a value\n\t\t\t// Then use the specified equality check\n\t\t\tvar equality_check = this._options.equal || eqeqeq;\n\t\t\tif(!equality_check(old_value, value)) {\n\t\t\t\t// And nullify if they aren't equal\n\t\t\t\tconstraint_solver.nullify(this);\n\t\t\t}\n\t\t} else if(old_value !== value) { // Otherwise, check function equality\n\t\t\t// And if they aren't the same function, nullify\n\t\t\tconstraint_solver.nullify(this);\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change how this constraint is computed (see Constraint options)\n\t *\n\t * @method setOption\n\t * @see cjs.Constraint\n\t * @param {Object} options - An object with the options to change\n\t * @return {cjs.Constraint} - `this`\n\t *\n\t * @example\n\t *     var x = cjs(function() { return 1; });\n\t *     x.get(); // 1\n\t *     x.setOption({\n\t *         literal: true,\n\t *         auto_add_outgoing_dependencies: false\n\t *     });\n\t *     x.get(); // (function)\n\t */\n\t/**\n\t * @method setOption^2\n\t * @see cjs.Constraint\n\t * @param {String} key - The name of the option to set\n\t * @param {*} value - The option's new value\n\t * @return {cjs.Constraint} - `this`\n\t *\n\t * @example\n\t *     var x = cjs(function() { return 1; });\n\t *     x.get(); // 1\n\t *     x.setOption(\"literal\", true);\n\t *     x.get(); // (function)\n\t */\n\tvar invalidation_arguments = [\"context\", \"literal\"];\n\tproto.setOption = function(arg0, arg1) {\n\t\tvar to_invalidate;\n\t\tif(isString(arg0)) {\n\t\t\tthis._options[arg0] = arg1;\n\t\t\tto_invalidate = indexOf(invalidation_arguments, arg0) >= 0;\n\t\t} else {\n\t\t\tvar keys = keys(arg0);\n\t\t\textend(this._options, arg0);\n\t\t\tto_invalidate = any(invalidation_arguments, function(ia) {\n\t\t\t\treturn keys.indexOf(ia) >= 0;\n\t\t\t});\n\t\t}\n\n\t\t// Nullify my value regardless of what changed\n\t\t// changing context, literal, etc. might change my value\n\t\treturn to_invalidate ? this.invalidate() : this;\n\t};\n\n\t/**\n\t * Mark this constraint's value as invalid. This signals that the next time its value is fetched,\n\t * it should be recomputed, rather than returning the cached value.\n\t *\n\t * An invalid constraint's value is only updated when it is next requested (for example, via `.get()`).\n\t *\n\t * @method invalidate\n\t * @return {cjs.Constraint} - `this`\n\t * @see isValid\n\t *\n\t * @example Tracking the window height\n\t *     var height = cjs(window.innerHeight);\n\t *     window.addEventListener(\"resize\", function() {\n\t *         height.invalidate();\n\t *     });\n\t */\n\tproto.invalidate = function () {\n\t\tconstraint_solver.nullify(this);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Find out if this constraint's value needs to be recomputed (i.e. whether it's invalid).\n\t *\n\t * An invalid constraint's value is only updated when it is next requested (for example, via `.get()`).\n\t *\n\t * @method isValid\n\t * @return {boolean} - `true` if this constraint's current value is valid. `false` otherwise.\n\t * @see invalidate\n\t *\n\t * @example\n\t *     var x = cjs(1),\n\t *         y = x.add(2);\n\t *     y.get();     // 3\n\t *     y.isValid(); // true\n\t *     x.set(2);\n\t *     y.isValid(); // false\n\t *     y.get();     // 4\n\t *     y.isValid(); //true\n\t */\n\tproto.isValid = function () {\n\t\treturn this._valid;\n\t};\n\n\t/**\n\t * Removes every dependency to this node\n\t *\n\t * @method remove\n\t * @param {boolean} [silent=false] - If set to `true`, avoids invalidating any dependent constraints.\n\t * @return {cjs.Constraint} - `this`\n\t * @see destroy\n\t */\n\tproto.remove = function (silent) {\n\t\tconstraint_solver.clearEdges(this, silent);\n\t\tthis._valid = false;\t\t\t// In case it gets used in the future, make sure this constraint is marked as invalid\n\t\tthis._cached_value = undefined; // and remove the cached value\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Removes any dependent constraint, clears this constraints options, and removes every change listener. This is\n\t * useful for making sure no memory is deallocated\n\t *\n\t * @method destroy\n\t * @param {boolean} [silent=false] - If set to `true`, avoids invalidating any dependent constraints.\n\t * @return {cjs.Constraint} - `this`\n\t * @see remove\n\t *\n\t * @example\n\t *     var x = cjs(1);\n\t *     x.destroy(); // ...x is no longer needed\n\t */\n\tproto.destroy = function (silent) {\n\t\tif(this._num_listeners_in_call_stack > 0) {\n\t\t\teach(this._changeListeners, function(cl) {\n\t\t\t\t// remove it from the call stack\n\t\t\t\tif (cl.in_call_stack>0) {\n\t\t\t\t\tconstraint_solver.remove_from_call_stack(cl);\n\t\t\t\t\tif(this._num_listeners_in_call_stack === 0) {\n\t\t\t\t\t\treturn breaker;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}\n\t\tthis.remove(silent);\n\t\tthis._changeListeners = [];\n\t\treturn this;\n\t};\n\n\t/**\n\t * Signal that this constraint's value will be computed later. For instance, for asyncronous values.\n\t *\n\t * @method pauseGetter\n\t * @param {*} temporaryValue - The temporary value to use for this node until it is resumed\n\t * @return {cjs.Constraint} - `this`\n\t * @see resumeGetter\n\t */\n\tproto.pauseGetter  = function () {\n\t\tconstraint_solver.pauseNodeGetter.apply(this, arguments);\n\t\treturn this;\n\t};\n\t/**\n\t * Signal that this Constraint, which has been paused with `pauseGetter` now has a value.\n\t *\n\t * @method resumeGetter\n\t * @param {*} value - This node's value\n\t * @return {cjs.Constraint} - `this`\n\t * @see pauseGetter\n\t *\n\t */\n\tproto.resumeGetter = function () {\n\t\tconstraint_solver.resumeNodeGetter.apply(this, arguments);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Call `callback` as soon as this constraint's value is invalidated. Note that if the constraint's value\n\t * is invalidated multiple times, `callback` is only called once.\n\t *\n\t * @method onChange\n\t * @param {function} callback\n\t * @param {*} [thisArg=window] - The context to use for `callback`\n\t * @param {*} ...args - The first `args.length` arguments to `callback`\n\t * @return {cjs.Constraint} - `this`\n\t * @see offChange\n\t *\n\t * @example\n\t *     var x = cjs(1);\n\t *     x.onChange(function() {\n\t *         console.log(\"x is \" + x.get());\n\t *     });\n\t *     x.set(2); // x is 2\n\t */\n\tproto.onChange = function(callback, thisArg) {\n\t\treturn this.onChangeWithPriority.apply(this, ([false]).concat(toArray(arguments)));\n\t};\n\tproto.onChangeWithPriority = function(priority, callback, thisArg) {\n\t\tvar args = slice.call(arguments, 3); // Additional arguments\n\t\tif(!isNumber(priority)) {\n\t\t\tpriority = false;\n\t\t}\n\t\tthis._changeListeners.push({\n\t\t\tcallback: callback, // function\n\t\t\tcontext: thisArg, // 'this' when called\n\t\t\targs: args, // arguments to pass into the callback\n\t\t\tin_call_stack: 0, // internally keeps track of if this function will be called in the near future\n\t\t\tnode: this,\n\t\t\tpriority: priority\n\t\t});\n\t\tif(this._options.run_on_add_listener !== false) {\n\t\t\t// Make sure my current value is up to date but don't add outgoing constraints.\n\t\t\t// That way, when it changes the callback will be called\n\t\t\tthis.get(false);\n\t\t}\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Removes the first listener to `callback` that was created by `onChange`. `thisArg` is optional and\n\t * if specified, it only removes listeners within the same context. If thisArg is not specified,\n\t * the first `callback` is removed. \n\t *\n\t * @method offChange\n\t * @param {function} callback\n\t * @param {*} [thisArg] - If specified, only remove listeners that were added with this context\n\t * @return {cjs.Constraint} - `this`\n\t * @see onChange\n\t *\n\t *     var x = cjs(1),\n\t *         callback = function(){};\n\t *     x.onChange(callback);\n\t *     // ...\n\t *     x.offChange(callback);\n\t */\n\tproto.offChange = function (callback, thisArg) {\n\t\tvar cl, i;\n\t\tfor(i = this._changeListeners.length-1; i>=0; i-=1) {\n\t\t\tcl = this._changeListeners[i];\n\t\t\t// Same callback and either the same context or context wasn't specified\n\t\t\tif(cl.callback === callback && (!thisArg || cl.context === thisArg)) {\n\t\t\t\t// Then get rid of it\n\t\t\t\tremoveIndex(this._changeListeners, i);\n\t\t\t\t// And remove it if it's in the callback\n\t\t\t\tif (cl.in_call_stack>0) {\n\t\t\t\t\tconstraint_solver.remove_from_call_stack(cl);\n\t\t\t\t}\n\t\t\t\tdelete cl.node;\n\t\t\t\t// Only searching for the last one\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change this constraint's value in different states\n\t *\n\t * @method inFSM\n\t * @param {cjs.FSM} fsm - The finite-state machine to depend on\n\t * @param {Object} values - Keys are the state specifications for the FSM, values are the value for those specific states\n\t * @return {cjs.Constraint} - `this`\n\t *\n\t * @example\n\t *     var fsm = cjs.fsm(\"state1\", \"state2\")\n\t *                  .addTransition(\"state1\", \"state2\",\n\t *                        cjs.on(\"click\"));\n\t *     var x = cjs().inFSM(fsm, {\n\t *         state1: 'val1',\n\t *         state2: function() { return 'val2'; }\n\t *     });\n\t */\n\tproto.inFSM = function(fsm, values) {\n\t\teach(values, function(v, k) {\n\t\t\t// add listeners to the fsm for that state that will set my getter's value\n\t\t\tfsm.on(k, function() {\n\t\t\t\tthis.set(v);\n\t\t\t}, this);\n\n\t\t\tif(fsm.is(k)) {\n\t\t\t\tthis.set(v);\n\t\t\t}\n\t\t}, this);\n\t\t\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns the last value in the array `[this].concat(args)` if every value is truthy. Otherwise, returns `false`.\n\t * Every argument won't necessarily be evaluated. For instance:\n\t *\n\t * - `x = cjs(false); cjs.get(x.and(a))` does not evaluate `a`\n\t *\n\t * @method and\n\t * @param {*} ...args - Any number of constraints or values to pass the \"and\" test\n\t * @return {cjs.Constraitnboolean|*} - A constraint whose value is `false` if this or any passed in value is falsy. Otherwise, the last value passed in.\n\t *\n\t * @example\n\t *\n\t *     var x = c1.and(c2, c3, true);\n\t */\n\tproto.and = function() {\n\t\tvar args = ([this]).concat(toArray(arguments)),\n\t\t\tlen = args.length;\n\n\t\treturn new My(function() {\n\t\t\tvar i = 0, val;\n\t\t\tfor(;i<len; i++) {\n\t\t\t\t// If any value is falsy, return false\n\t\t\t\tif(!(val = cjs_get(args[i]))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Otherwise, return the last value fetched\n\t\t\treturn val;\n\t\t});\n\t};\n\n\t/**\n\t * Inline if function: similar to the javascript a ? b : c expression\n\t *\n\t * @method iif\n\t * @param {*} true_val - The value to return if `this` is truthy\n\t * @param {*} other_val - The value to return if `this` is falsy\n\t * @return {cjs.Constraint} - A constraint whose value is `false` if this or any passed in value is falsy. Otherwise, the last value passed in.\n\t *\n\t * @example\n\t *\n\t *     var x = is_selected.iif(selected_val, nonselected_val);\n\t */\n\tproto.iif = function(true_val, other_val) {\n\t\tvar me = this;\n\t\treturn new My(function() {\n\t\t\treturn me.get() ? cjs_get(true_val) : cjs_get(other_val);\n\t\t});\n\t};\n\n\t/**\n\t * Returns the first truthy value in the array `[this].concat(args)`. If no value is truthy, returns `false`.\n\t * Every argument won't necessarily be evaluated. For instance:\n\t *\n\t * - `y = cjs(true); cjs.get(y.or(b))` does not evaluate `b`\n\t *\n\t * @method or\n\t * @param {*} ...args - Any number of constraints or values to pass the \"or\" test\n\t * @return {cjs.Constraint} - A constraitn whose value is the first truthy value or `false` if there aren't any\n\t *\n\t * @example\n\t *\n\t *     var x = c1.or(c2, c3, false);\n\t */\n\tproto.or = function() {\n\t\tvar args = ([this]).concat(toArray(arguments)),\n\t\t\tlen = args.length;\n\n\t\treturn new My(function() {\n\t\t\tvar i = 0, val;\n\t\t\tfor(;i<len; i++) {\n\t\t\t\t// Return the first value (including this) that is truthy\n\t\t\t\tif((val = cjs_get(args[i]))) {\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//Nothing was truthy, so return false\n\t\t\treturn false;\n\t\t});\n\t};\n\n\t/**\n\t * @ignore\n\t * Creates a new function that takes in any number of arguments and creates a constraint whose result\n\t * is calling `modifier_fn` on `this` plus every argument\n\t */\n\tvar createConstraintModifier = function(modifier_fn) {\n\t\treturn function() {\n\t\t\tvar args = ([this]).concat(toArray(arguments));\n\t\t\treturn new My(function() {\n\t\t\t\treturn modifier_fn.apply(this, map(args, cjs_get));\n\t\t\t});\n\t\t};\n\t};\n\n\tvar get_prop = function(a, b) { return a ? a[b] : undefined; };\n\t/**\n\t * Property constraint modifier.\n\t *\n\t * @method prop\n\t * @param {strings} ...args - Any number of properties to fetch\n\t * @return {*} - A constraint whose value is `this[args[0]][args[1]]...`\n\t * @example\n\t * \n\t *     w = x.prop(\"y\", \"z\"); // means w <- x.y.z\n\t */\n\tproto.prop = createConstraintModifier(function(me) { return reduce(rest(arguments), get_prop, me); });\n\n\t/**\n\t * Integer conversion constraint modifier.\n\t * @method toInt\n\t * @return {*} - A constrant whose value is parseInt(this)\n\t * @example Given `<input />` element `inp_elem`\n\t *\n\t *     var inp_val = cjs(inp_elem).toInt();\n\t */\n\tproto.toInt = createConstraintModifier(function(me) { return parseInt.apply(this, arguments); });\n\n\t/**\n\t * Float conversion constraint modifier.\n\t * @method toFloat\n\t * @return {*} - A constraint whose value is parseFloat(this)\n\t * @example Given `<input />` element `inp_elem`\n\t *\n\t *     var inp_val = cjs(inp_elem).toFloat();\n\t */\n\tproto.toFloat = createConstraintModifier(function(me) { return parseFloat.apply(this, arguments); });\n\n\t// For all the arithmetic operators, allow any number of arguments to be passed in. For example:\n\t/**\n\t * Addition constraint modifier\n\t * @method add\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is `this.get() + args[0].get() + args[1].get() + ...`\n\t * @example\n\t *\n\t *     x = y.add(1,2,z); // x <- y + 1 + 2 + z\n\t * @example The same method can also be used to add units to values\n\t *\n\t *     x = y.add(\"px\"); // x <- ypx\n\t */\n\tproto.add = createConstraintModifier(function() { return reduce(arguments, binary_operators[\"+\"], 0); });\n\t/**\n\t * Subtraction constraint modifier\n\t * @method sub\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is `this.get() - args[0].get() - args[1].get() - ...`\n\t * @example\n\t *\n\t *     x = y.sub(1,2,z); // x <- y - 1 - 2 - z\n\t */\n\tproto.sub = createConstraintModifier(function(me) { return reduce(rest(arguments), binary_operators[\"-\"], me); });\n\t/**\n\t * Multiplication constraint modifier\n\t * @method mul\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is `this.get() * args[0].get() * args[1].get() * ...`\n\t * @example\n\t *\n\t *     x = y.mul(1,2,z); //x <- y * 1 * 2 * z\n\t */\n\tproto.mul = createConstraintModifier(function(me) { return reduce(rest(arguments), binary_operators[\"*\"], me); });\n\t/**\n\t * Division constraint modifier\n\t * @method div\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is `this.get() / args[0].get() / args[1].get() / ...`\n\t * @example\n\t *\n\t *     x = y.div(1,2,z); // x <- y / 1 / 2 / z\n\t */\n\tproto.div = createConstraintModifier(function(me) { return reduce(rest(arguments), binary_operators[\"/\"], me); });\n\n\t/**\n\t * Absolute value constraint modifier\n\t * @method abs\n\t * @return {number} - A constraint whose value is `Math.abs(this.get())`\n\t * @example\n\t *\n\t *     x = c1.abs(); // x <- abs(c1)\n\t */\n\t/**\n\t * Floor\n\t * @method floor\n\t * @return {number} - A constraint whose value is `Math.floor(this.get())`\n\t * @example\n\t *\n\t *     x = c1.floor(); // x <- floor(c1)\n\t */\n\t/**\n\t * Ceil\n\t * @method ceil\n\t * @return {number} - A constraint whose value is `Math.ceil(this.get())`\n\t * @example\n\t *\n\t *     x = c1.ceil(); // x <- ceil(c1)\n\t */\n\t/**\n\t * Round\n\t * @method round\n\t * @return {number} - A constraint whose value is `Math.round(this.get())`\n\t * @example\n\t *\n\t *     x = c1.round(); // x <- round(c1)\n\t */\n\t/**\n\t * Square root\n\t * @method sqrt\n\t * @return {number} - A constraint whose value is `Math.sqrt(this.get())`\n\t * @example\n\t *\n\t *     x = c1.sqrt(); // x <- sqrt(c1)\n\t */\n\t/**\n\t * Arccosine\n\t * @method acos\n\t * @return {number} - A constraint whose value is `Math.acos(this.get())`\n\t * @example\n\t *\n\t *     angle = r.div(x).acos()\n\t */\n\t/**\n\t * Arcsin\n\t * @method asin\n\t * @return {number} - A constraint whose value is `Math.asin(this.get())`\n\t * @example\n\t *\n\t *     angle = r.div(y).asin()\n\t */\n\t/**\n\t * Arctan\n\t * @method atan\n\t * @return {number} - A constraint whose value is `Math.atan(this.get())`\n\t * @example\n\t *\n\t *     angle = y.div(x).atan()\n\t */\n\t/**\n\t * Arctan2\n\t * @method atan2\n\t * @param {number|cjs.Constraint} x\n\t * @return {number} - A constraint whose value is `Math.atan2(this.get()/x.get())`\n\t * @example\n\t *\n\t *     angle = y.atan2(x)\n\t */\n\t/**\n\t * Cosine\n\t * @method cos\n\t * @return {number} - A constraint whose value is `Math.cos(this.get())`\n\t * @example\n\t *\n\t *     dx = r.mul(angle.cos())\n\t */\n\t/**\n\t * Sine\n\t * @method sin\n\t * @return {number} - A constraint whose value is `Math.sin(this.get())`\n\t * @example\n\t *\n\t *     dy = r.mul(angle.sin())\n\t */\n\t/**\n\t * Tangent\n\t * @method tan\n\t * @return {number} - A constraint whose value is `Math.tan(this.get())`\n\t * @example\n\t *\n\t *     dy = r.mul(angle.sin())\n\t */\n\t/**\n\t * Max\n\t * @method max\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is the **highest** of `this.get()`, `args[0].get()`, `args[1].get()`...\n\t * @example\n\t *\n\t *     val = val1.max(val2, val3);\n\t */\n\t/**\n\t * Min\n\t * @method min\n\t * @param {number} ...args - Any number of constraints or numbers\n\t * @return {number} - A constraint whose value is the **lowest** of `this.get()`, `args[0].get()`, `args[1].get()`...\n\t * @example\n\t *\n\t *     val = val1.min(val2, val3);\n\t */\n\t/**\n\t * Power\n\t * @method pow\n\t * @param {number} x - The exponent\n\t * @return {number} - A constraint whose value is `Math.pow(this.get(), x.get())`\n\t * @example\n\t *\n\t *     d = dx.pow(2).add(dy.pow(2)).sqrt()\n\t */\n\t/**\n\t * Natural Log (base e)\n\t * @method log\n\t * @return {number} - A constraint whose value is `Math.log(this.get())`\n\t * @example\n\t *\n\t *     num_digits = num.max(2).log().div(Math.log(10)).ceil()\n\t */\n\t/**\n\t * Exp (E^x)\n\t * @method exp\n\t * @return {number} - A constraint whose value is `Math.exp(this.get())`\n\t * @example\n\t *\n\t *     neg_1 = cjs(i*pi).exp()\n\t */\n\teach([\"abs\", \"acos\", \"asin\", \"atan\", \"atan2\", \"cos\", \"max\", \"min\", \"sin\", \"tan\",\n\t\t\t\"pow\", \"round\", \"floor\", \"ceil\", \"sqrt\", \"log\", \"exp\"], function(op_name) {\n\t\tproto[op_name] = createConstraintModifier(bind(Math[op_name], Math));\n\t});\n\n\t/**\n\t * Coerce an object to a number\n\t * @method pos\n\t * @return {number} - A constraint whose value is `+(this.get())`\n\t * @example\n\t *\n\t *     numeric_val = val.pos()\n\t */\n\t/**\n\t * Negative operator\n\t * @method neg\n\t * @return {number} - A constraint whose value is `-(this.get())`\n\t * @example\n\t *\n\t *     neg_val = x.neg()\n\t */\n\t/**\n\t * Not operator\n\t * @method not\n\t * @return {boolean} - A constraint whose value is `!(this.get())`\n\t * @example\n\t *\n\t *     opposite = x.not()\n\t */\n\t/**\n\t * Bitwise not operator\n\t * @method bitwiseNot\n\t * @return {number} - A constraint whose value is `~(this.get())`\n\t * @example\n\t *\n\t *     inverseBits = val.bitwiseNot()\n\t */\n\t/**\n\t * Equals unary operator\n\t * @method eq\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() == other.get()`\n\t *\n\t * @example\n\t *\n\t *     isNull = val.eq(null)\n\t */\n\t/**\n\t * Not equals operator\n\t * @method neq\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() != other.get()`\n\t *\n\t * @example\n\t *\n\t *     notNull = val.neq(null)\n\t */\n\t/**\n\t * Strict equals operator\n\t * @method eqStrict\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() === other.get()`\n\t *\n\t * @example\n\t *\n\t *     isOne = val.eqStrict(1)\n\t */\n\t/**\n\t * Not strict equals binary operator\n\t * @method neqStrict\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() !== other.get()`\n\t *\n\t * @example\n\t *\n\t *     notOne = val.neqStrict(1)\n\t */\n\t/**\n\t * @method gt\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() > other.get()`\n\t *\n\t * @example\n\t *\n\t *     isPositive = val.gt(0)\n\t */\n\t/**\n\t * @method lt\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() < other.get()`\n\t * \n\t * @example\n\t *\n\t *     isNegative = val.lt(0)\n\t */\n\t/**\n\t * @method ge\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() >= other.get()`\n\t *\n\t * @example\n\t *\n\t *     isBig = val.ge(100)\n\t */\n\t/**\n\t * @method le\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {boolean} - A constraint whose value is `this.get() <= other.get()`\n\t *\n\t * @example\n\t *\n\t *     isSmall = val.le(100)\n\t */\n\t/**\n\t * @method xor\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() ^ other.get()`\n\t */\n\t/**\n\t * @method bitwiseAnd\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() & other.get()`\n\t */\n\t/**\n\t * @method bitwiseOr\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() | other.get()`\n\t */\n\t/**\n\t * @method mod\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() % other.get()`\n\t * @example\n\t *\t\tisEven = x.mod(2).eq(0);\n\t *\n\t */\n\t/**\n\t * @method rightShift\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() >> other.get()`\n\t */\n\t/**\n\t * @method leftShift\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() << other.get()`\n\t */\n\t/**\n\t * @method unsignedRightShift\n\t * @param {*} other - A constraint or value to compare against\n\t * @return {number} - A constraint whose value is `this.get() >>> other.get()`\n\t */\n\teach({\n\t\tu: { // Unary operators\n\t\t\tpos: \"+\", neg: \"-\", not: \"!\", bitwiseNot: \"~\"\n\t\t},\n\t\tbi: { // Binary operators\n\t\t\teqStrict: \"===\",neqStrict:  \"!==\",\teq:        \"==\",neq: \"!=\",\n\t\t\tgt:      \">\",\tge:         \">=\",\tlt:        \"<\",\tle: \"<=\",\n\t\t\txor:     \"^\",\tbitwiseAnd: \"&\",\tbitwiseOr: \"|\",\tmod: \"%\",\n\t\t\trightShift:\">>\",leftShift:  \"<<\",\tunsignedRightShift: \">>>\"\n\t\t}\n\t},\tfunction(ops, operator_prefix) {\n\t\tvar op_list = operator_prefix === \"u\" ? unary_operators : binary_operators;\n\t\teach(ops, function(key, op_name) {\n\t\t\tproto[op_name] = createConstraintModifier(op_list[key]);\n\t\t});\n\t});\n\n\t/**\n\t * Object type modifier\n\t * @method typeOf\n\t * @param {*} other - a constraint or value to compare against\n\t * @return {*} - a constraint whose value is `typeof this.get()`\n\t * @example\n\t *\n\t *     var valIsNumber = val.typeOf().eq('[object Number]')\n\t */\n\tproto.typeOf = createConstraintModifier(function(a) { return typeof a;});\n\n\t/**\n\t * Object instance check modifier\n\t * @method instanceOf\n\t * @param {*} other - a constraint or value to compare against\n\t * @return {boolean} - a constraint whose value is `this.get() instanceof other.get()`\n\t * @example\n\t *\n\t *     var valIsArray = val.instanceof(Array)\n\t */\n\tproto.instanceOf = createConstraintModifier(function(a, b) { return a instanceof b;});\n\n\tproto[cjs_getter] = proto.get;\n\n} (Constraint));\n/** @lends */\n\n// Create some exposed utility functions\n/**\n * Determine whether an object is a constraint\n * @method cjs.isConstraint\n * @param {*} obj - An object to check\n * @return {boolean} - `obj instanceof cjs.Constraint`\n */\nis_constraint = function(obj) { return obj instanceof Constraint; };\n\nexport const cjs_wait = bind(constraint_solver.wait, constraint_solver);\nexport const cjs_signal = bind(constraint_solver.signal, constraint_solver);\n\nexport default function constraint(value, options) { return new Constraint(value, options); }\nexport { Constraint, is_constraint, constraint_solver };\n\n\n/** WEBPACK FOOTER **\n ** ./src/core.js\n **/","\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/typeof.js\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/core-js/symbol.js\n ** module id = 19\n ** module chunks = 0\n **/","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/fn/symbol/index.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/es6.symbol.js\n ** module id = 21\n ** module chunks = 0\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.js\n ** module id = 22\n ** module chunks = 0\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.has.js\n ** module id = 23\n ** module chunks = 0\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.descriptors.js\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = require('./$.hide');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.redefine.js\n ** module id = 25\n ** module chunks = 0\n **/","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.hide.js\n ** module id = 26\n ** module chunks = 0\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.property-desc.js\n ** module id = 27\n ** module chunks = 0\n **/","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.shared.js\n ** module id = 28\n ** module chunks = 0\n **/","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.set-to-string-tag.js\n ** module id = 29\n ** module chunks = 0\n **/","var store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.wks.js\n ** module id = 30\n ** module chunks = 0\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.uid.js\n ** module id = 31\n ** module chunks = 0\n **/","var $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.keyof.js\n ** module id = 32\n ** module chunks = 0\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.to-iobject.js\n ** module id = 33\n ** module chunks = 0\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.iobject.js\n ** module id = 34\n ** module chunks = 0\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.cof.js\n ** module id = 35\n ** module chunks = 0\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.get-names.js\n ** module id = 36\n ** module chunks = 0\n **/","// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.enum-keys.js\n ** module id = 37\n ** module chunks = 0\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.is-array.js\n ** module id = 38\n ** module chunks = 0\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.an-object.js\n ** module id = 39\n ** module chunks = 0\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.is-object.js\n ** module id = 40\n ** module chunks = 0\n **/","module.exports = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/~/core-js/library/modules/$.library.js\n ** module id = 41\n ** module chunks = 0\n **/","export const cjs_getter = Symbol('cjs getter');\n\nexport default function cjs_get(obj, ...rest) {\n\tif(obj[cjs_getter]) {\n\t\treturn obj[cjs_getter](...rest);\n\t} else {\n\t\treturn obj;\n\t}\n\t/*\n\tif(is_constraint(obj))\t{ return obj.get(arg0); }\n\telse if(is_array(obj))\t{ return obj.toArray(); }\n\telse if(is_map(obj))\t{ return obj.toObject(); }\n\telse\t\t\t\t\t{ return obj; }\n\t*/\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/get.js\n **/","import { extend, eqeqeq, clone, each, isString, isFunction, indexWhere, isPositiveInteger, identity, map } from \"./util\";\nimport { Constraint, cjs_wait, cjs_signal } from \"./core\";\n//FIXME: remove array dependency\nimport { ArrayConstraint } from \"./array\";\nimport cjs_get from \"./get\";\n\n// Map Constraints\n// ---------------\n\n// Maps use hashing to improve performance. By default, the hash is a simple toString\n// function\nvar defaulthash = function (key) { return key+\"\"; };\n\n// A string can also be specified as the hash, so that the hash is the result of calling\n// that property of the object\nvar get_str_hash_fn = function (prop_name) {\n\treturn function (key) {\n\t\treturn key[prop_name]();\n\t};\n};\n\n/**\n * ***Note:*** the preferred way to create a map constraint is with `cjs.map`\n * This class is meant to emulate JavaScript objects ({}) but with constraints\n *\n * Options:\n *\n * - `hash`: a key hash to use to improve performance when searching for a key (default: `x.toString()`)\n * - `valuehash`: a value hash to use improve performance when searching for a value (default: `false`)\n * - `equals`: How to check for equality when searching for a key (default: `===`)\n * - `valueequals`: How to check for equality when searching for a value (default: `===`)\n * - `value`: An optional starting value (default: `{}`)\n * - `keys`: An optional starting set of keys (default: `[]`)\n * - `values`: An optional starting set of values (default: `[]`)\n * - `literal_values`: True if values that are functions should return a function rather than that function's return value. (default: `false`)\n * - `create_unsubstantiated`: Create a constraint when searching for non-existent keys. (default: `true`)\n *\n * @class cjs.MapConstraint\n * @classdesc A class that adds constraint to objects\n * @param {Object} [options] - A set of options to control how the map constraint is evaluated\n */\nconst MapConstraint = function (options) {\n\toptions = extend({\n\t\thash: defaulthash, // Improves performance when searching by key\n\t\tvaluehash: false, // Function if we should hash values, which improves performance when searching by value. By default, we don't hash values\n\t\tequals: eqeqeq, // Equality check when searching by key\n\t\tvalueequals: eqeqeq, // Equality check when searching by value\n\t\tvalue: {}, // Optional starting value\n\t\tkeys: [], // Rather than passing in 'value', keys and values can be equal-length arrays specifying keys...\n\t\tvalues: [], // and values\n\t\tliteral_values: false, // true if every value should be literal\n\t\tcreate_unsubstantiated: true // Create a value when a key isn't found\n\t}, options);\n\n\toptions.keys = clone(options.keys);\n\toptions.values = clone(options.values);\n\tvar set_keys = {};\n\n\t//ensure no duplicate keys\n\teach(options.keys, function(key) { set_keys[key] = true; });\n\n\t// Append all of the keys and values passed to the keys and values arrays\n\teach(options.value, function (v, k) {\n\t\tif(!set_keys[k]) {\n\t\t\toptions.keys.push(k);\n\t\t\toptions.values.push(v);\n\t\t}\n\t}, this);\n\n\tset_keys = false;\n\n\t// Convert to boolean\n\tthis._default_literal_values = !!options.literal_values;\n\tthis.$equality_check = new Constraint(options.equals, {literal: true});\n\tthis.$vequality_check = new Constraint(options.valueequals, {literal: true});\n\n\t// Get my hash\n\tthis._hash = isString(options.hash) ? get_str_hash_fn(options.hash) : options.hash;\n\tthis._create_unsubstantiated = options.create_unsubstantiated;\n\n\tthis._khash = {};\n\n\t// If we're hashing values, then set this._valuehash as a function\n\tif (options.valuehash) {\n\t\tthis._vhash = {};\n\t\tif (isFunction(options.valuehash)) {\n\t\t\tthis._valuehash = options.valuehash;\n\t\t} else if (isString(options.valuehash)) {\n\t\t\tthis._valuehash = get_str_hash_fn(options.valuehash);\n\t\t} else {\n\t\t\tthis._valuehash = defaulthash;\n\t\t}\n\t} else {\n\t\tthis._vhash = false;\n\t}\n\n\tvar is_literal = this._default_literal_values;\n\n\t// Keeps track of the values and maintains the proper order\n\tthis._ordered_values = map(options.keys, function (k, i) {\n\t\tvar v = options.values[i];\n\t\t// Have key (k) and value (v)\n\t\tvar info = {\n\t\t\tkey: new Constraint(k, {literal: true}),\n\t\t\tvalue: new Constraint(v, {literal: is_literal}),\n\t\t\tindex: new Constraint(i, {literal: true})\n\t\t};\n\n\t\t// Properly put the entry into the key hash\n\t\tvar hash = this._hash(k);\n\t\tvar hash_val = this._khash[hash];\n\t\tif (hash_val) {\n\t\t\thash_val.push(info);\n\t\t} else {\n\t\t\tthis._khash[hash] = [info];\n\t\t}\n\n\t\t// If we hash values too, properly put the entry into the value hash\n\t\tif (this._vhash) {\n\t\t\tvar value_hash = this._valuehash(v);\n\t\t\tvar vhash_val = this._vhash[value_hash];\n\t\t\tif (vhash_val) {\n\t\t\t\tvhash_val.push(info);\n\t\t\t} else {\n\t\t\t\tthis._vhash[value_hash] = [info];\n\t\t\t}\n\t\t}\n\t\t// And finally, set return info for this._ordered_values[i]\n\t\treturn info;\n\t}, this);\n\n\t// Keeps track of requested values that aren't set\n\tthis._unsubstantiated_values = {};\n\n\t// Array to store keys\n\tthis.$keys = new Constraint(function () {\n\t\t\tvar rv = [];\n\t\t\tthis.forEach(function (value, key, index) {\n\t\t\t\trv[index] = key;\n\t\t\t});\n\t\t\treturn rv;\n\t\t}, {context: this});\n\n\t// Array to store values\n\tthis.$values = new Constraint(function() {\n\t\tvar rv = [];\n\t\tthis.forEach(function (value, key, index) {\n\t\t\trv[index] = value;\n\t\t});\n\t\treturn rv;\n\t}, {context: this});\n\n\t// Full entries (includes keys and values)\n\tthis.$entries = new Constraint(function() {\n\t\tvar rv = [];\n\t\tthis.forEach(function (value, key, index) {\n\t\t\trv[index] = {key: key, value: value};\n\t\t});\n\t\treturn rv;\n\t}, {context: this});\n\n\t// Number of keys\n\tthis.$size = new Constraint(function() {\n\t\treturn this._ordered_values.length;\n\t}, {context: this});\n};\n\n(function (my) {\n\t/**\n\t * Any iterator in forEach can return this object to break out of its loop.\n\t * @property {object} cjs.MapConstraint.BREAK\n\t */\n\tmy.BREAK = ArrayConstraint.BREAK;\n\n\tvar proto = my.prototype;\n\t/** @lends cjs.MapConstraint.prototype */\n\n\t// Utility function to return information about a key\n\tvar _find_key = function (key, fetch_unsubstantiated, create_unsubstantiated, literal) {\n\t\t// Get the hash\n\t\tvar hash = this._hash(key),\n\t\t\trv = {\n\t\t\t\th: hash, // the actual hash value\n\t\t\t\thv: false, // the hash array at the hash value\n\t\t\t\ti: -1, // the index of the key in the hash array\n\t\t\t\tui: -1, // the index in the unsubstantiated array\n\t\t\t\tuhv: false // the unsubstantiated hash array\n\t\t\t},\n\t\t\teq = this.$equality_check.get(),\n\t\t\tindex_where_fn = function (a, b) {\n\t\t\t\treturn eq(a.key.get(), key);\n\t\t\t},\n\t\t\thash_values = this._khash[hash];\n\n\t\tif (hash_values) { // We found a potential hash array\n\t\t\tvar key_index = indexWhere(hash_values, index_where_fn);\n\t\t\trv.hv = hash_values;\n\t\t\tif(key_index >= 0) { // Wohoo! we also found the key in there\n\t\t\t\trv.i = key_index;\n\t\t\t\treturn rv;\n\t\t\t}\n\t\t}\n\n\t\t// Haven't returned yet, so we didn't find the entry. Look for an unsubstantiated\n\t\t// value instead.\n\t\tif (fetch_unsubstantiated !== false) { //Not found\n\t\t\tvar unsubstantiated_values = this._unsubstantiated_values[hash],\n\t\t\t\tunsubstantiated_index = -1;\n\n\t\t\tif (unsubstantiated_values) {\n\t\t\t\trv.uhv = unsubstantiated_values;\n\t\t\t\tunsubstantiated_index = indexWhere(unsubstantiated_values, index_where_fn);\n\t\t\t\tif(unsubstantiated_index >= 0) {\n\t\t\t\t\trv.ui = unsubstantiated_index;\n\t\t\t\t\treturn rv;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// We haven't returned yet, so we didn't find an unsubstantiated value either\n\t\t\t// Check to see if we should create one.\n\t\t\tif(create_unsubstantiated === true) {\n\t\t\t\tvar is_literal = this._default_literal_values,\n\t\t\t\t\tunsubstantiated_info = {\n\t\t\t\t\t\tkey: new Constraint(key, {literal: true}),\n\t\t\t\t\t\tvalue: new Constraint(undefined,  {literal: literal === undefined ? this._default_literal_values : !!literal}), // will be undefined\n\t\t\t\t\t\tindex: new Constraint(-1, {literal: true}) // with a negative index\n\t\t\t\t\t};\n\n\t\t\t\tif(unsubstantiated_values) { // The hash was found but not the particular value\n\t\t\t\t\t// Add it onto the end\n\t\t\t\t\tunsubstantiated_index = unsubstantiated_values.length;\n\t\t\t\t\tunsubstantiated_values[unsubstantiated_index] = unsubstantiated_info;\n\t\t\t\t} else {\n\t\t\t\t\t// The hash wasn't found; create a new array\n\t\t\t\t\tunsubstantiated_index = 0;\n\t\t\t\t\tthis._unsubstantiated_values[hash] = unsubstantiated_values = [unsubstantiated_info];\n\t\t\t\t}\n\t\t\t}\n\t\t\trv.uhv = unsubstantiated_values || false; // Want to return false if not found\n\t\t\trv.ui = unsubstantiated_index;\n\t\t}\n\t\treturn rv;\n\t};\n\n\t// Responsible for setting a key properly\n\tvar _do_set_item_ki = function (ki, key, value, index, literal) {\n\t\t// ki is the key information from _find_key\n\t\tvar i, value_hash, vhash_val, info,\n\t\t\tkey_index = ki.i, // where the key is in the hash array\n\t\t\thash_values = ki.hv, // the hash array\n\t\t\thash = ki.h; // the hash value\n\n\t\tif (key_index >= 0) { // The key was already in this map\n\t\t\t// get the information\n\t\t\tinfo = hash_values[key_index];\n\n\t\t\tif (this._vhash) { // If we're hashing values, the new value has to get re-hashed\n\t\t\t\tvar old_value = info.value.get(),\n\t\t\t\t\told_value_hash = this._valuehash(old_value),\n\t\t\t\t\told_vhash_val = this._vhash[old_value_hash];\n\t\t\t\tvalue_hash = this._valuehash(value);\n\n\t\t\t\tif (old_vhash_val) { // This should probably always be true, unless something went wrong...\n\t\t\t\t\tvar len = old_vhash_val.length;\n\t\t\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\t\t\tif (old_vhash_val[i] === info) { // wohoo, found it\n\t\t\t\t\t\t\told_vhash_val.splice(i, 1);\n\t\t\t\t\t\t\tif (old_vhash_val.length === 0) {\n\t\t\t\t\t\t\t\tdelete this._vhash[old_value_hash]; // don't keep the old hash array\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Put the new value has in\n\t\t\t\tvhash_val = this._vhash[value_hash]; // hash array\n\t\t\t\tif (vhash_val) {\n\t\t\t\t\tvhash_val.push(info); // add onto the hash array\n\t\t\t\t} else {\n\t\t\t\t\tthis._vhash[value_hash] = [info]; // create a new hash array\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tinfo.value.set(value); // set the value constraint to the new value\n\n\t\t\tif (isPositiveInteger(index)) { // But they also specified an index...\n\t\t\t\tvar old_index = info.index.get();\n\t\t\t\tif(old_index !== index) { // great...now we have to move it too\n\t\t\t\t\t// take out the old value\n\t\t\t\t\tthis._ordered_values.splice(old_index, 1);\n\t\t\t\t\t// and re-add it\n\t\t\t\t\tthis._ordered_values.splice(index, 0, info);\n\n\t\t\t\t\t// Properly iterate regardless of whether moving higher or lower\n\t\t\t\t\tvar low = Math.min(old_index, index);\n\t\t\t\t\tvar high = Math.max(old_index, index);\n\t\t\t\t\t// update the indicies of every thing between that might have been affected\n\t\t\t\t\tfor (i = low; i <= high; i += 1) {\n\t\t\t\t\t\t_set_index(this._ordered_values[i], i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.$keys.invalidate(); // Keys are now invalid\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// They didn't specify an index or at least they specified it wrong...\n\t\t\tif (!isPositiveInteger(index)) {\n\t\t\t\tindex = this._ordered_values.length; // just set it to the \n\t\t\t}\n\t\t\t// Check to see if there was an unsubstantiated item\n\t\t\tvar unsubstantiated_index = ki.ui;\n\n\t\t\tif (unsubstantiated_index >= 0) { // Found it! Now let's remove it from the list of unsubstantiated items\n\t\t\t\tvar unsubstantiated_hash_values = ki.uhv,\n\t\t\t\t\tunsubstantiated_info = unsubstantiated_hash_values[unsubstantiated_index];\n\n\t\t\t\tunsubstantiated_hash_values.splice(unsubstantiated_index, 1);\n\t\t\t\tif (unsubstantiated_hash_values.length === 0) {\n\t\t\t\t\tdelete this._unsubstantiated_values[hash];\n\t\t\t\t}\n\n\t\t\t\tinfo = unsubstantiated_info; // re-use the same object to keep dependencies\n\t\t\t} else {\n\t\t\t\t// Nothing in unsubstantiated; just create it from scratch\n\t\t\t\tinfo = {\n\t\t\t\t\tkey: new Constraint(key, {literal: true}),\n\t\t\t\t\tvalue: new Constraint(value, {literal: literal === undefined ? this._default_literal_values : !!literal}),\n\t\t\t\t\tindex: new Constraint(index, {literal: true})\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif(hash_values) { // There was already a hash array\n\t\t\t\thash_values.push(info);\n\t\t\t} else { // Have to create the hash array\n\t\t\t\thash_values = this._khash[hash] = [info];\n\t\t\t}\n\n\t\t\t//If we're hashing values...\n\t\t\tif (this._vhash) {\n\t\t\t\tvalue_hash = this._valuehash(value);\n\t\t\t\tvhash_val = this._vhash[value_hash];\n\t\t\t\t// Add the item to the value hash\n\t\t\t\tif (vhash_val) {\n\t\t\t\t\tvhash_val.push(info);\n\t\t\t\t} else {\n\t\t\t\t\tthis._vhash[value_hash] = [info];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//  insert into values\n\t\t\tthis._ordered_values.splice(index, 0, info);\n\n\t\t\tif (unsubstantiated_index >= 0) {\n\t\t\t\tinfo.value.set(value); // but update its value and index\n\t\t\t\tinfo.index.set(index);\n\t\t\t}\n\n\t\t\t// Push the index of every item that I spliced before up\n\t\t\tfor (i = index + 1; i < this._ordered_values.length; i += 1) {\n\t\t\t\t_set_index(this._ordered_values[i], i);\n\t\t\t}\n\t\t\t// Now, size and keys are invalid\n\t\t\tthis.$size.invalidate();\n\t\t\tthis.$keys.invalidate();\n\t\t}\n\t\tthis.$values.invalidate();\n\t\tthis.$entries.invalidate();\n\t};\n\n\t// Cange an info's specified index\n\tvar _set_index = function (info, to_index) {\n\t\tinfo.index.set(to_index);\n\t};\n\n\t// Deallocate memory from constraints\n\tvar _destroy_info = function (infos, silent) {\n\t\teach(infos, function (info) {\n\t\t\tinfo.key.destroy(silent);\n\t\t\tinfo.value.destroy(silent);\n\t\t\tinfo.index.destroy(silent);\n\t\t});\n\t};\n\n\t// removes the selected item and destroys its value to deallocate it\n\tvar _remove_index = function (index, silent) {\n\t\tvar info = this._ordered_values[index];\n\t\t_destroy_info(this._ordered_values.splice(index, 1), silent);\n\t\tif(silent !== true) {\n\t\t\tthis.$size.invalidate();\n\t\t}\n\t};\n\t\n\t/**\n\t * Get the keys on this object.\n\t *\n\t * @method keys\n\t * @return {array.*} - The set of keys\n\t * @see values\n\t * @see entries\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.keys(); // ['x','y']\n\t */\n\tproto.keys = function () { return this.$keys.get(); };\n\n\t/**\n\t * Get the values on this object.\n\t *\n\t * @method values\n\t * @return {array.*} - The set of values\n\t * @see keys\n\t * @see entries\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.values(); // [1,2]\n\t */\n\tproto.values = function () { return this.$values.get(); };\n\n\t/**\n\t * Get every key and value of this object as an array.\n\t *\n\t * @method entries\n\t * @return {array.object} - A set of objects with properties `key` and `value`\n\t * @see keys\n\t * @see values\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.entries(); // [{key:'x',value:1},\n\t *                    //  {key:'y',value:2}]\n\t */\n\tproto.entries = function () { return this.$entries.get(); };\n\n\t/**\n\t * Get the number of entries in this object.\n\t *\n\t * @method size\n\t * @return {number} - The number of entries\n\t * @see isEmpty\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.size(); // 2\n\t */\n\tproto.size = function () { return this.$size.get(); };\n\t\n\t/**\n\t * Check if this object has any entries\n\t *\n\t * @method isEmpty\n\t * @return {boolean} - `true` if there are no entries, `false` otherwise\n\t * @see size\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.isEmpty(); // false\n\t */\n\tproto.isEmpty = function () { return this.size() === 0; };\n\n\t/**\n\t * Set the entry for `key` to `value` (`this[key]=value`)\n\t *\n\t * @method put\n\t * @param {*} key - The entry's key\n\t * @param {*} value - The entry's value\n\t * @param {number} [index=this.size] - The entry's index\n\t * @param {boolean} [literal] - Whether to treat the value as literal\n\t * @return {cjs.MapConstraint} - `this`\n\t * @see get\n\t * @see getOrPut\n\t * @see item\n\t * @see remove\n\t * @see clear\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.put(\"z\", 3, 1);\n\t *     map.keys(); // ['x','z','y']\n\t */\n\tproto.put = function (key, value, index, literal) {\n\t\tcjs_wait();\n\t\t// Find out if there's a key or unsubstantiated info but don't create it\n\t\tvar ki = _find_key.call(this, key, true, false, literal);\n\t\t// And do the work of putting\n\t\t_do_set_item_ki.call(this, ki, key, value, index, literal);\n\t\tcjs_signal();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Remove a key's entry (like `delete this[key]`)\n\t *\n\t * @method remove\n\t * @param {*} key - The entry's key\n\t * @return {cjs.MapConstraint} - `this`\n\t *\n\t * @see put\n\t * @see clear\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.remove(\"x\");\n\t *     map.keys(); // ['y']\n\t */\n\tproto.remove = function (key, silent) {\n\t\t// Find out if there's an actual key set\n\t\tvar ki = _find_key.call(this, key, false, false),\n\t\t\tkey_index = ki.i,\n\t\t\thash_values = ki.hv,\n\t\t\ti, info, ordered_index, value_hash, vhash_val;\n\n\t\t// If the item was found\n\t\tif (key_index >= 0) {\n\t\t\tcjs_wait();\n\n\t\t\tinfo = hash_values[key_index]; // The info about the value\n\t\t\tordered_index = info.index.get(); // The map's index (not the index in the hash array)\n\n\t\t\thash_values.splice(key_index, 1); // Remove info from the hash array\n\t\t\tif (hash_values.length === 0) { // If there isn't anything in the hash array,\n\t\t\t\tdelete this._khash[ki.h]; // remove it\n\t\t\t}\n\n\t\t\t// If the value is also hashed..\n\t\t\tif (this._vhash) {\n\t\t\t\t// Find the value hash information\n\t\t\t\tvalue_hash = this._valuehash(info.value.get()); // the lookup key for the value hash\n\t\t\t\tvhash_val = this._vhash[value_hash]; // the value hash array\n\t\t\t\tif (vhash_val) { // Found the value hash\n\t\t\t\t\tvar len = vhash_val.length;\n\t\t\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\t\t\tif (vhash_val[i] === info) { // found the actual item\n\t\t\t\t\t\t\tvhash_val.splice(i, 1); // remove it from the array\n\t\t\t\t\t\t\tif (vhash_val.length === 0) {\n\t\t\t\t\t\t\t\tdelete this._vhash[value_hash]; // and if it's empty, remove the whole value hash array\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak; // Wohoo!\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_remove_index.call(this, ordered_index, silent); // remove ordered_index (splices the ordered array)\n\t\t\tfor (i = ordered_index; i < this._ordered_values.length; i += 1) {\n\t\t\t\t_set_index(this._ordered_values[i], i); // and update the index for every item\n\t\t\t}\n\n\t\t\t// And now all of these constraint variables are invalid.\n\t\t\tif(!silent) {\n\t\t\t\tthis.$size.invalidate();\n\t\t\t\tthis.$keys.invalidate();\n\t\t\t\tthis.$values.invalidate();\n\t\t\t\tthis.$entries.invalidate();\n\t\t\t}\n\n\t\t\t// OK, now you can run any nullified listeners\n\t\t\tcjs_signal();\n\t\t}\n\t\treturn this;\n\t};\n\t\n\t/**\n\t * Get the item at key (like this[key])\n\t *\n\t * @method get\n\t * @param {*} key - The entry's key\n\t * @return {*|undefined} - the value at that entry or `undefined`\n\t *\n\t * @see item\n\t * @see put\n\t * @see getOrPut\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.get(\"x\"); // 1\n\t */\n\tproto.get = function (key) {\n\t\t// Try to find the key and search in any unsubstantiated values\n\t\tvar ki = _find_key.call(this, key, true, this._create_unsubstantiated),\n\t\t\tkey_index = ki.i,\n\t\t\thash_values = ki.hv;\n\n\t\tif (key_index >= 0) { // Found it; get the item in the hash's value\n\t\t\tvar info = hash_values[key_index];\n\t\t\treturn info.value.get();\n\t\t} else if(this._create_unsubstantiated) {\n\t\t\tvar unsubstantiated_info = ki.uhv[ki.ui]; // use the unsubstantiated getter to create a dependency\n\t\t\treturn unsubstantiated_info.value.get();\n\t\t} else { // not found and can't create unsubstantiated item\n\t\t\treturn undefined;\n\t\t}\n\t};\n\n\t/**\n\t * Convert my value to a standard JavaScript object. The keys are converted using `toString`\n\t *\n\t * @method item\n\t * @return {object} - A standard JavaScript object\n\t * @see toObject\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.item(); // {x:1,y:2}\n\t */\n\t/**\n\t * Get item `key`\n\t *\n\t * @method item^2\n\t * @param {number} key - The object key\n\t * @return {*} - The value at index `key`\n\t *\n\t * @see get\n\t * @see put\n\t * @see getOrPut\n\t * \n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.item('x'); // 1\n\t */     \n\t/**\n\t * Set item i\n\t *\n\t * @method item^3\n\t * @param {number} key - The object key\n\t * @param {*} value - The new value\n\t * @return {cjs.MapConstraint} - `this`\n\t *\n\t * @see get\n\t * @see put\n\t * @see getOrPut\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.item('z', 3);\n\t *     map.keys(); //['x','y','z']\n\t */\n\tproto.item = function (arg0, arg1, arg2) {\n\t\tif(arguments.length === 0) { // no arguments? return an object\n\t\t\treturn this.toObject();\n\t\t} else if (arguments.length === 1) { // One, try to get the keys values\n\t\t\treturn this.get(arg0);\n\t\t} else { // more than two, try to set\n\t\t\treturn this.put(arg0, arg1, arg2);\n\t\t}\n\t};\n\n\t/**\n\t * Return a constraint whose value is bound to my value for key\n\t *\n\t * @method itemConstraint\n\t * @param {*|Constraint} key - The array index\n\t * @return {Constraint} - A constraint whose value is `this[key]`\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     var x_val = map.itemConstraint('x');\n\t *     x_val.get(); // 1\n\t *     map.item('x', 3);\n\t *     x_val.get(); // 3\n\t */\n\tproto.itemConstraint = function(key) {\n\t\treturn new Constraint(function() {\n\t\t\t// Call cjs_get on the key so the key can also be a constraint\n\t\t\treturn this.get(cjs_get(key));\n\t\t}, {\n\t\t\tcontext: this\n\t\t});\n\t};\n\n\t/**\n\t * Clear every entry of this object.\n\t *\n\t * @method clear\n\t * @return {cjs.MapConstraint} - `this`\n\t * @see remove\n\t * @see isEmpty\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.isEmpty(); // false\n\t *     map.clear();\n\t *     map.isEmpty(); // true\n\t */\n\tproto.clear = function (silent) {\n\t\tif (this.size() > 0) { // If I actually have something\n\t\t\tcjs_wait();\n\t\t\t// Keep removing items\n\t\t\twhile (this._ordered_values.length > 0) {\n\t\t\t\t_remove_index.call(this, 0, silent);\n\t\t\t}\n\t\t\t// And get rid of every key hash\n\t\t\teach(this._khash, function (arr, hash) {\n\t\t\t\tdelete this._khash[hash];\n\t\t\t}, this);\n\t\t\t// and value hash if applicable\n\t\t\tif (this._vhash) {\n\t\t\t\teach(this._vhash, function (arr, hash) {\n\t\t\t\t\tdelete this._vhash[hash];\n\t\t\t\t}, this);\n\t\t\t}\n\n\t\t\t// and everything should be invalid\n\t\t\tif(!silent) {\n\t\t\t\tthis.$keys.invalidate();\n\t\t\t\tthis.$values.invalidate();\n\t\t\t\tthis.$entries.invalidate();\n\t\t\t\tthis.$size.invalidate();\n\t\t\t}\n\n\t\t\tcjs_signal(); // ready to run nullification listeners\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * The forEach() method executes a provided function once per entry.\n\t * If cjs.MapConstraint.BREAK is returned for any element, we stop looping\n\t * \n\t * @method forEach\n\t * @param {function} callback - Function to execute for each entry.\n\t * @param {*} thisArg - Object to use as `this` when executing `callback`.\n\t * @return {cjs.MapConstraint} - `this`\n\t * @example\n\t *     var map = cjs({x:1,y:2,z:3});\n\t *     map.forEach(function(val, key) {\n\t *         console.log(key+':'+val);\n\t *         if(key === 'y') {\n\t *             return cjs.MapConstraint.BREAK;\n\t *         }\n\t *     }); // x:1 ... y:2\n\t */\n\tproto.forEach = function (func, thisArg) {\n\t\tvar i, info, len = this.size(),\n\t\t\tov_clone = this._ordered_values.slice();\n\t\tthisArg = thisArg || this;\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tinfo = ov_clone[i];\n\t\t\tif (info && func.call(thisArg, info.value.get(), info.key.get(), info.index.get()) === my.BREAK) { // break if desired\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change the default equality check when getting a key\n\t * \n\t * @method setEqualityCheck\n\t * @param {function} equality_check - The new key equality check\n\t * @return {cjs.ArrayConstraint} - `this`\n\t */\n\tproto.setEqualityCheck = function (equality_check) {\n\t\tthis.$equality_check.set(equality_check);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change the default value equality check when getting a value\n\t * \n\t * @method setValueEqualityCheck\n\t * @param {function} vequality_check - The new value equality check\n\t * @return {cjs.ArrayConstraint} - `this`\n\t */\n\tproto.setValueEqualityCheck = function (vequality_check) {\n\t\tthis.$vequality_check.set(vequality_check);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change the hash function when getting a key\n\t * \n\t * @method setHash\n\t * @param {function|string} hash - The new hashing function (or a string representing a property name for every key to use as the hash)\n\t * @return {cjs.ArrayConstraint} - `this`\n\t */\n\tproto.setHash = function (hash) {\n\t\tcjs_wait();\n\t\t// First, empty out the old key hash and unsubstantiated values\n\t\tthis._hash = isString(hash) ? get_str_hash_fn(hash) : hash;\n\t\tthis._khash = {};\n\t\t// Then, for every one of my values, re-hash\n\t\teach(this._ordered_values, function (info) {\n\t\t\tvar key = info.key.get();\n\t\t\tvar hash = this._hash(key);\n\t\t\tvar hash_val = this._khash[hash];\n\t\t\tif (hash_val) {\n\t\t\t\thash_val.push(info);\n\t\t\t} else {\n\t\t\t\tthis._khash[hash] = [info];\n\t\t\t}\n\t\t}, this);\n\n\t\t// And re-hash for every unsubstantiated value\n\t\tvar new_unsubstantiated_values = {};\n\t\teach(this._unsubstantiated_values, function(unsubstantiated_value_arr) {\n\t\t\teach(unsubstantiated_value_arr, function(info) {\n\t\t\t\tvar key = info.key.get();\n\t\t\t\tvar hash = this._hash(key);\n\t\t\t\tvar hash_val = this.new_unsubstatiated_values[hash];\n\t\t\t\tif(hash_val) {\n\t\t\t\t\thash_val.push(info);\n\t\t\t\t} else {\n\t\t\t\t\tnew_unsubstantiated_values[hash] = [info];\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}, this);\n\t\tthis._unsubstantiated_values = new_unsubstantiated_values;\n\n\t\tcjs_signal();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Change the hash function when getting a value\n\t * \n\t * @method setValueHash\n\t * @param {function|string} hash - The new hashing function (or a string representing a property name for every key to use as the hash)\n\t * @return {cjs.ArrayConstraint} - `this`\n\t */\n\tproto.setValueHash = function (vhash) {\n\t\tthis._valuehash = isString(vhash) ? get_str_hash_fn(vhash) : vhash;\n\t\t// Empty out the old value hash\n\t\tthis._vhash = {};\n\n\t\tif (this._valuehash) {\n\t\t\t// And reset the value hash for every element\n\t\t\teach(this._ordered_values, function (info) {\n\t\t\t\tvar value = info.value.get();\n\t\t\t\tvar hash = this._valuehash(value);\n\t\t\t\tvar hash_val = this._vhash[hash];\n\t\t\t\tif (hash_val) {\n\t\t\t\t\thash_val.push(info);\n\t\t\t\t} else {\n\t\t\t\t\tthis._vhash[hash] = [info];\n\t\t\t\t}\n\t\t\t}, this);\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t/**\n\t * Get the index of the entry with key = `key`\n\t * \n\t * @method indexOf\n\t * @param {*} key - The key to search for.\n\t * @return {number} - The index of the entry with key=`key` or `-1`\n\t *\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.indexOf('z'); // -1\n\t */\n\tproto.indexOf = function (key) {\n\t\t// get hash information\n\t\tvar ki = _find_key.call(this, key, true, this._create_unsubstantiated),\n\t\t\tkey_index = ki.i,\n\t\t\thash_values = ki.hv;\n\t\tif (key_index >= 0) { // Found! return the proper item's index\n\t\t\tvar info = hash_values[key_index];\n\t\t\treturn info.index.get();\n\t\t} else if(ki.ui >= 0) { // Not found but creating unsubstantiated items\n\t\t\tvar unsubstantiated_info = ki.uhv[ki.ui];\n\t\t\treturn unsubstantiated_info.index.get(); // create a dependency\n\t\t} else { // Not found and not creating unsubstantiated items\n\t\t\treturn -1;\n\t\t}\n\t};\n\n\t/**\n\t * Search for a key or create it if it wasn't found\n\t * \n\t * @method getOrPut\n\t * @param {*} key - The key to search for.\n\t * @param {function} create_fn - A function to create the value if `key` is not found\n\t * @param {*} [create_fn_context] - The context in which to call `create_fn`\n\t * @param {number} [index=this.size] - Where to place a value that is created\n\t * @param {boolean} [literal=false] - Whether to create the value as a literal constraint\n\t * (the value of a function is the function)\n\t * @return {number} - The index of the entry with key=`key` or `-1`\n\t *\n\t * @see get\n\t * @see put\n\t * @see item\n\t * @example\n\t *     var map = xjs({x: 1, y: 2});\n\t *     map.getOrPut('x', function() {\n\t *         console.log(\"evaluating\");\n\t *         return 3;\n\t *     }); // output: 'evaluating'\n\t *     // 3\n\t *     map.getOrPut('x', function() {\n\t *         console.log(\"evaluating\");\n\t *         return 3;\n\t *     }); // (no output)\n\t *     // 3\n\t */\n\tproto.getOrPut = function (key, create_fn, create_fn_context, index, literal) {\n\t\tvar ki = _find_key.call(this, key, true, false, literal),\n\t\t\tkey_index = ki.i, // index within hash array\n\t\t\thash_values = ki.hv, // hash array\n\t\t\thash = ki.h, // hash value\n\t\t\tcontext, value, info;\n\n\t\tif (key_index >= 0) { // found actual item!\n\t\t\tinfo = hash_values[key_index];\n\t\t\treturn info.value.get();\n\t\t} else { // need to create it\n\t\t\tcjs_wait();\n\t\t\tcontext = create_fn_context || this;\n\t\t\tvalue = create_fn.call(context, key); // will set the value to this\n\t\t\t_do_set_item_ki.call(this, ki, key, value, index, literal); // do the work of putting\n\t\t\tcjs_signal();\n\t\t\treturn value;\n\t\t}\n\t};\n\n\t/**\n\t * Check if there is any entry with key = `key`\n\t * \n\t * @method has\n\t * @param {*} key - The key to search for.\n\t * @return {boolean} - `true` if there is an entry with key=`key`, `false` otherwise.\n\t *\n\t * @see get\n\t * @see item\n\t * @example\n\t *     var map = cjs({x: 1, y: 2});\n\t *     map.has('x'); // true\n\t */\n\tproto.has = function (key) {\n\t\tvar ki = _find_key.call(this, key, true, this._create_unsubstantiated);\n\t\tvar key_index = ki.i;\n\t\tif (key_index >= 0) { // Found successfully\n\t\t\treturn true;\n\t\t} else if(this._create_unsubstantiated) { // Didn't find but there is an unsubstantiated item\n\t\t\tvar unsubstantiated_info = ki.uhv[ki.ui];\n\t\t\tunsubstantiated_info.index.get(); // Add a dependency\n\t\t\treturn false;\n\t\t} else { // No dependency to be added; just say we didn't find it\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Move the entry at `old_index` to index `new_index`\n\t *\n\t * @method moveIndex\n\t * @param {number} old_index - The index to move from\n\t * @param {number} new_index - The index to move to\n\t * @return {cjs.ArrayConstraint} - `this`\n\t * @example\n\t *     var map = cjs({x: 1, y: 2, z: 3});\n\t *     map.keys(); // ['x','y', 'z']\n\t *     map.moveIndex(1, 0)\n\t *     map.keys(); // ['y','x', 'z']\n\t */\n\tproto.moveIndex = function (old_index, new_index) {\n\t\tvar i;\n\t\tcjs_wait();\n\t\tvar info = this._ordered_values[old_index];\n\t\t// take out the old value\n\t\tthis._ordered_values.splice(old_index, 1);\n\t\t// and re-add it\n\t\tthis._ordered_values.splice(new_index, 0, info);\n\n\t\t// Properly iterate regardless of whether moving higher or lower\n\t\tvar low = Math.min(old_index, new_index);\n\t\tvar high = Math.max(old_index, new_index);\n\t\t// update the indicies of every thing between that might have been affected\n\t\tfor (i = low; i <= high; i += 1) {\n\t\t\t_set_index(this._ordered_values[i], i);\n\t\t}\n\n\t\t// Invalidate the relevant properties (size shouldn't change)\n\t\tthis.$keys.invalidate();\n\t\tthis.$values.invalidate();\n\t\tthis.$entries.invalidate();\n\n\t\tcjs_signal();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Move the entry with key `key` to `index\n\t *\n\t * @method move\n\t * @param {*} key - The key to search for \n\t * @param {number} to_index - The new index for the key\n\t * @return {cjs.ArrayConstraint} - `this`\n\t * @example\n\t *     var map = cjs({x: 1, y: 2, z: 3});\n\t *     map.keys(); // ['x','y', 'z']\n\t *     map.move('z', 0)\n\t *     map.keys(); // ['z','x', 'y']\n\t */\n\tproto.move = function (key, to_index) {\n\t\t//Move a key to a new index\n\t\tvar ki = _find_key.call(this, key, false, false);\n\t\tvar key_index = ki.i;\n\t\tif (key_index >= 0) {\n\t\t\tvar info = ki.hv[key_index];\n\t\t\t// leverage the previous move_index function\n\t\t\tthis.moveIndex(info.index.get(), to_index);\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Given a value, find the corresponding key\n\t *\n\t * @method keyForValue\n\t * @param {*} value - The value whose key to search for \n\t * @param {function} [eq_check] - How to check if two values are equal (default: `===`\n\t * @return {*|undefined} - The key where `this.get(key)===value`\n\t * @example\n\t *     var map = cjs({x: 1, y: 2, z: 3});\n\t *     map.keyForValue(1); // 'x'\n\t */\n\tproto.keyForValue = function (value, eq_check) {\n\t\teq_check = eq_check || this.$vequality_check.get();\n\t\tvar i;\n\t\t// It's advantageous here to use a value hash if it's there\n\t\tif (this._vhash) {\n\t\t\tvar value_hash = this._valuehash(value);\n\t\t\tvar vhash_val = this._vhash[value_hash];\n\t\t\t// Find that value hash's array\n\t\t\tif (vhash_val) {\n\t\t\t\tvar len = vhash_val.length;\n\t\t\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t\t\tvar info = vhash_val[i];\n\t\t\t\t\tif (eq_check(info.value.get(), value)) { // found it! here's the key\n\t\t\t\t\t\treturn info.key.get();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Didn't find it\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\t// Without a value hash, we have to iterate through every item\n\t\t\tvar key;\n\t\t\tthis.forEach(function (v, k) {\n\t\t\t\tif (eq_check(value, v)) { // found\n\t\t\t\t\tkey = k;\n\t\t\t\t\treturn my.BREAK; // Break out of the forEach\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn key;\n\t\t}\n\t};\n\n\t/**\n\t * Clear this object and try to clean up any memory.\n\t *\n\t * @method destroy\n\t * @param {boolean} [silent=false] - If set to `true`, avoids invalidating any dependent constraints.\n\t */\n\tproto.destroy = function (silent) {\n\t\tcjs_wait();\n\t\tthis.clear(silent);\n\t\tthis.$equality_check.destroy(silent);\n\t\tthis.$vequality_check.destroy(silent);\n\t\tthis.$keys.destroy(silent);\n\t\tthis.$values.destroy(silent);\n\t\tthis.$entries.destroy(silent);\n\t\tthis.$size.destroy(silent);\n\t\tcjs_signal();\n\t};\n\n\t/**\n\t * Converts this array to a JavaScript object.\n\t *\n\t * @method toObject\n\t * @param {function} [key_map_fn] - A function to convert keys\n\t * @return {object} - This object as a JavaScript object\n\t * @example\n\t *     var map = cjs({x: 1, y: 2, z: 3});\n\t *     map.toObject(); // {x:1,y:2,z:3}\n\t */\n\tproto.toObject = function (key_map_fn) {\n\t\tvar rv = {};\n\t\tkey_map_fn = key_map_fn || identity; // just use the key if not supplied\n\t\tthis.forEach(function (v, k) { rv[key_map_fn(k)] = v; });\n\t\treturn rv;\n\t};\n}(MapConstraint));\n/** @lends */\n\n/**\n * Determine whether an object is a map constraint\n * @method cjs.isMapConstraint\n * @param {*} obj - An object to check\n * @return {boolean} - `true` if `obj` is a `cjs.MapConstraint`, `false` otherwise\n */\nconst is_map = function(obj) {\n\treturn obj instanceof MapConstraint;\n};\n\n/**\n * Create a map constraint\n * @method cjs.map\n * @constructs cjs.MapConstraint\n * @param {Object} [options] - A set of options to control how the map constraint is evaluated\n * @return {cjs.MapConstraint} - A new map constraint object\n * @see cjs.MapConstraint\n * @example Creating a map constraint\n *\n *     var map_obj = cjs.map({\n *         value: { foo: 1 }\n *     });\n *     cobj.get('foo'); // 1\n *     cobj.put('bar', 2);\n *     cobj.get('bar') // 2\n */\nconst cjs_map = function (arg0, arg1) { return new MapConstraint(arg0, arg1); }\n\nexport default cjs_map;\nexport { is_map, MapConstraint };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/map.js\n **/","import { isNumber, extend, eqeqeq, map, identity, slice, toArray, each, isPositiveInteger } from \"./util\";\nimport Constraint, { cjs_wait, cjs_signal, is_constraint } from \"./core\";\nimport cjs_get from \"./get\";\nimport root from \"./root\";\n\n// Array Constraints\n// -----------------\n\n/**\n * ***Note:*** The preferred constructor for arrays is `cjs.array`\n *\n * This class is meant to emulate standard arrays, but with constraints\n * It contains many of the standard array functions (push, pop, slice, etc)\n * and makes them constraint-enabled.\n *\n *     x[1] = y[2] + z[3] === x.item(1, y.item(2) + z.item(3))\n *\n * Options:\n *\n * - `equals`: the function to check if two values are equal, *default:* `===`\n * - `value`: an array for the initial value of this constraint\n *\n * @class cjs.ArrayConstraint\n * @classdesc A class that adds constraint to arrays\n * @param {Object} [options] - A set of options to control how the array constraint is evaluated\n *\n * @see cjs\n * @see cjs.array\n */\nconst ArrayConstraint = function (options) {\n\toptions = extend({\n\t\tequals: eqeqeq, // How to check for equality, useful for indexOf, etc\n\t\tvalue: [] // starting value\n\t}, options);\n\n\t// Every value in the array is a constraint\n\tthis._value = map(options.value, function(val) {\n\t\treturn new Constraint(val, {literal: true});\n\t});\n\n\t// When we fetch an item in the array that doesn't exist, it gets added to\n\t// the unsubstantiated items list to create a dependency\n\tthis._unsubstantiated_items = [];\n\n\tthis.$len = new Constraint(this._value.length); // Keep track of the array length in a constraint\n\tthis.$equality_check = new Constraint(options.equals, {literal: true}); // How to check for equality again...\n};\n\n(function (my) {\n\tvar proto = my.prototype;\n\t/**\n\t * Any iterator in forEach can return this object to break out of its loop.\n\t * @property {object} cjs.ArrayConstraint.BREAK\n\t */\n\tmy.BREAK = {};\n\n\t/** @lends cjs.ArrayConstraint.prototype */\n\n\n\t// Get a particular item in the array\n\tvar _get = function (arr, key) {\n\t\tvar val = arr._value[key];\n\t\tif (val === undefined) { // Even if arr[key] is set to undefined, it would be a constraint\n\t\t\t// Create a dependency so that if the value for this key changes\n\t\t\t// later on, we can detect it in the constraint solver\n\t\t\tval = new Constraint(undefined, {literal: true});\n\t\t\tarr._unsubstantiated_items[key] = val;\n\t\t}\n\t\treturn val.get();\n\t};\n\n\t// For internal use; set a particular item in the array\n\tvar _put = function (arr, key, val) {\n\t\tcjs_wait(); // Don't run any nullification listeners until this function is done running\n\t\tvar $previous_value = arr._value[key];\n\n\t\t// If there's an unsubstantiated item; use that, so that dependencies still work\n\t\tif ($previous_value === undefined && arr._unsubstantiated_items[key]) {\n\t\t\t$previous_value = arr._value[key] = arr._unsubstantiated_items[key];\n\t\t\tdelete arr._unsubstantiated_items[key];\n\t\t}\n\n\t\tif (is_constraint($previous_value)) {\n\t\t\t// If there was a previous value, just set it\n\t\t\tvar prev_val = $previous_value.get();\n\t\t\t$previous_value.set(val);\n\t\t} else {\n\t\t\t// Otherwise, just create a new value\n\t\t\tarr._value[key] = new Constraint(val, {literal: true});\n\t\t}\n\t\t_update_len(arr); // Make sure the length hasn't changed\n\t\tcjs_signal(); // OK, run nullification listeners now if necessary\n\t\treturn val;\n\t};\n\n\t// Remove every element of the array\n\tvar _clear = function (arr, silent) {\n\t\tvar $val;\n\t\tcjs_wait();\n\n\t\t// Keep on popping and don't stop!\n\t\twhile (arr._value.length > 0) {\n\t\t\t$val = arr._value.pop();\n\t\t\tvar len = arr._value.length;\n\t\t\tif (is_constraint($val)) {\n\t\t\t\t$val.destroy(silent); // Clear memory for every element\n\t\t\t}\n\t\t}\n\t\t_update_len(arr, silent);\n\n\t\tcjs_signal();\n\t\treturn this;\n\t};\n\n\tvar _update_len = function (arr, silent) {\n\t\t// The setter will automatically not update if the value is the same\n\t\tarr.$len.set(arr._value.length, silent ? {silent:true} : false);\n\t};\n\n\n\t/**\n\t * Change the equality check; useful for indexOf\n\t *\n\t * @method setEqualityCheck\n\t * @param {function} equality_check - A new function to check for equality between two items in this array\n\t * @return {cjs.ArrayConstraint} `this`\n\t */\n\tproto.setEqualityCheck = function (equality_check) {\n\t\tthis.$equality_check.set(equality_check);\n\t\treturn this;\n\t};\n\n\t/**\n\t * The forEach() method executes a provided function once per array element.\n\t * \n\t * @method forEach\n\t * @param {function} callback - Function to execute for each element.\n\t * @param {*} thisArg - Object to use as `this` when executing `callback`.\n\t * @return {cjs.ArrayConstraint} `this`\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     arr.forEach(function(val, i) {\n\t *         console.log(val);\n\t *         if(i === 1) {\n\t *             return cjs.ArrayConstraint.BREAK;\n\t *         }\n\t *     }); // 'a' ... 'b'\n\t */\n\tproto.forEach = function (callback, thisArg) {\n\t\tvar i, len = this.length();\n\t\tthisArg = thisArg || root; // Set thisArg to window if not specified\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tif (callback.call(thisArg, _get(this, i), i) === my.BREAK) { // \"break\" equivalent\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t *  The map() method creates a new array (not array constraint) with the results of calling a provided\n\t *  function on every element in this array.\n\t * \n\t * @method map\n\t * @param {function} callback - Function that produces an element of the new Array from an element of the current one.\n\t * @param {*} thisArg - Object to use as `this` when executing `callback`.\n\t * @return {array} - The result of calling `callback` on every element\n\t * @example\n\t *     var arr = cjs([1,2,3]);\n\t *     arr.map(function(x) { return x+1;}) // [2,3,4]\n\t */\n\tproto.map = function (callback, thisArg) {\n\t\tvar rv = [];\n\t\tthisArg = thisArg || root;\n\t\tthis.forEach(function(val, i) {\n\t\t\trv[i] = callback.call(thisArg, val, i);\n\t\t});\n\t\treturn rv;\n\t};\n\n\t/**\n\t * Replaces the whole array\n\t *\n\t * @method setValue\n\t * @param {array} arr - The new value\n\t * @return {cjs.ArrayConstraint} - `this`\n\t * @example\n\t *     var arr = cjs([1,2,3]);\n\t *     arr.toArray(); //[1,2,3]\n\t *     arr.setValue(['a','b','c']);\n\t *     arr.toArray(); //['a','b','c']\n\t */\n\tproto.setValue = function (arr) {\n\t\tcjs_wait(); // Don't run nullified functions quite yet\n\t\t_clear(this);\n\t\tthis.push.apply(this, arr);\n\t\tcjs_signal(); // OK, now run them\n\t\treturn this;\n\t};\n\n\t/**\n\t * Convert my value to a standard JavaScript array\n\t *\n\t * @method item\n\t * @return {array} - A standard JavaScript array\n\t * @see toArray\n\t * @example\n\t *     var arr = cjs([1,2,3]);\n\t *     arr.item(); //[1,2,3]\n\t */\n\t/**\n\t * Get item `key`\n\t *\n\t * @method item^2\n\t * @param {number} key - The array index\n\t * @return {*} - The value at index `key`\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.item(0); //['a']\n\t */\n\t/**\n\t * Set item i\n\t *\n\t * @method item^3\n\t * @param {number} key - The array index\n\t * @param {*} value - The new value\n\t * @return {*} - `value`\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.item(0,'x');\n\t *     arr.toArray(); // ['x','b']\n\t */\n\tproto.item = function (key, val) {\n\t\tif(arguments.length === 0) { // Just return an array if called with no arguments\n\t\t\treturn this.toArray();\n\t\t} else if (arguments.length === 1) { // Get if called with one argument\n\t\t\treturn _get(this, key);\n\t\t} else if (arguments.length > 1) { // Put if called with more than one argument\n\t\t\treturn _put(this, key, val);\n\t\t}\n\t};\n\n\t/**\n\t * Clear this array and try to clean up any memory.\n\t *\n\t * @method destroy\n\t * @param {boolean} [silent=false] - If set to `true`, avoids invalidating any dependent constraints.\n\t */\n\tproto.destroy = function (silent) {\n\t\t_clear(this, silent);\n\t\tthis.$len.destroy(silent);\n\t};\n\n\t/**\n\t * Get the length of the array.\n\t *\n\t * @method length\n\t * @return {number} - The length of the array\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.length(); // 2\n\t */\n\tproto.length = function () {\n\t\treturn this.$len.get(); // Remember that length is a constraint\n\t};\n\t\n\t/**\n\t * The push() method mutates an array by appending the given elements and returning the new length of the array.\n\t *\n\t * @method push\n\t * @param {*} ...elements - The set of elements to append to the end of the array\n\t * @return {number} - The new length of the array\n\t *\n\t * @see pop\n\t * @see shift\n\t * @see unshift\n\t * @see splice\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.push('c','d'); // 4\n\t *     arr.toArray(); // ['a','b','c','d']\n\t */\n\tproto.push = function () {\n\t\tvar i, len = arguments.length, value_len = this._value.length;\n\t\t//Make operation atomic\n\t\tcjs_wait();\n\t\t// Add every item that was passed in\n\t\tfor (i = 0; i < len; i++) {\n\t\t\t_put(this, value_len+i, arguments[i]);\n\t\t}\n\t\tcjs_signal();\n\t\treturn this.length(); // return the new length\n\t};\n\n\t/**\n\t * The pop() method removes the last element from an array and returns that element.\n\t *\n\t * @method pop\n\t * @return {*} - The value that was popped off or `undefined`\n\t * \n\t * @see push\n\t * @see shift\n\t * @see unshift\n\t * @see splice\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.pop(); // 'b'\n\t *     arr.toArray(); // ['a']\n\t */\n\tproto.pop = function () {\n\t\tvar rv, $value = this._value.pop(); // $value should be a constraint\n\t\tcjs_wait();\n\n\t\tif (is_constraint($value)) { // if it's a constraint return the value.\n\t\t\t\t\t\t\t\t\t\t// otherwise, return undefined\n\t\t\trv = $value.get();\n\t\t\t$value.destroy();\n\t\t}\n\t\t// And set the proper length\n\t\t_update_len(this);\n\n\t\t// Ok, ready to go again\n\t\tcjs_signal();\n\t\t\n\t\treturn rv;\n\t};\n\n\t/**\n\t * Converts this array to a JavaScript array\n\t *\n\t * @method toArray\n\t * @return {array} - This object as a JavaScript array\n\t * @example\n\t *     var arr = cjs(['a','b']);\n\t *     arr.toArray(); // ['a', 'b']\n\t */\n\tproto.toArray = function () {\n\t\treturn this.map(identity); // just get every element\n\t};\n\n\t/**\n\t * Returns the *first* item where calling filter is truthy\n\t * \n\t * @method indexWhere\n\t * @param {function} filter - The function to call on every item\n\t * @param {*} thisArg - Object to use as `this` when executing `callback`.\n\t * @return {number} - The first index where calling `filter` is truthy or `-1`\n\t * @example\n\t *     var arr = cjs(['a','b','b']);\n\t *     arr.indexWhere(function(val, i) {\n\t *         return val ==='b';\n\t *     }); // 1\n\t */\n\tproto.indexWhere = function (filter, thisArg) {\n\t\tvar i, len = this.length(), $val;\n\t\tthisArg = thisArg || this;\n\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\t$val = this._value[i];\n\t\t\tif (filter.call(thisArg, $val.get(), i)) { return i; }\n\t\t}\n\n\t\treturn -1; // -1 if not found\n\t};\n\t/**\n\t * Returns the *last* item where calling filter is truthy\n\t * \n\t * @method lastIndexWhere\n\t * @param {function} filter - The function to call on every item\n\t * @param {*} thisArg - Object to use as `this` when executing `callback`.\n\t * @return {number} - The last index where calling `filter` is truthy or `-1`\n\t *\n\t * @example\n\t *     var arr = cjs(['a','b','a']);\n\t *     arr.lastIndexWhere(function(val, i) {\n\t *         return val ==='a';\n\t *     }); // 2\n\t */\n\tproto.lastIndexWhere = function (filter, thisArg) {\n\t\tvar i, len = this.length(), $val;\n\t\tthisArg = thisArg || this;\n\n\t\tfor (i = len - 1; i >= 0; i -= 1) {\n\t\t\t$val = this._value[i];\n\t\t\tif (filter.call(thisArg, $val.get(), i)) { return i; }\n\t\t}\n\n\t\treturn -1; // -1 if not found\n\t};\n\n\t/**\n\t * Returns the *first* index of `item`\n\t * \n\t * @method indexOf\n\t * @param {*} item - The item we are searching for\n\t * @param {function} [equality_check] - How to check whether two objects are equal, defaults to the option that was passed in)\n\t * @return {number} - The item's index or `-1`\n\t *\n\t * @example\n\t *     var arr = cjs(['a','b','a']);\n\t *     arr.indexOf('a'); // 0\n\t */\n\tproto.indexOf = function (item, equality_check) {\n\t\tequality_check = equality_check || this.$equality_check.get();\n\t\tvar filter = function (x) { return equality_check(x, item); };\n\t\treturn this.indexWhere(filter);\n\t};\n\n\t/**\n\t * Returns the *last* index of `item`\n\t * \n\t * @method lastIndexOf\n\t * @param {*} item - The item we are searching for\n\t * @param {function} [equality_check] - How to check whether two objects are equal, defaults to the option that was passed in)\n\t * @return {number} - The item's index or `-1`\n\t * @example\n\t *     var arr = cjs(['a','b','a']);\n\t *     arr.indexOf('a'); // 2\n\t */\n\tproto.lastIndexOf = function (item, equality_check) {\n\t\tequality_check = equality_check || this.$equality_check.get();\n\t\tvar filter = function (x) { return equality_check(x, item); };\n\t\treturn this.lastIndexWhere(filter);\n\t};\n\n\t/**\n\t * Return `true` if `filter` against any item in my array is truthy\n\t * \n\t * @method some\n\t * @param {function} filter - The function to check against\n\t * @param {*} thisArg - Object to use as `this` when executing `filter`.\n\t * @return {boolean} - `true` if some item matches `filter`. `false` otherwise\n\t * @see every\n\t * @example\n\t *     var arr = cjs([1,3,5]);\n\t *     arr.some(function(x) { return x%2===0; }); // false\n\t */\n\tproto.some = function(filter, thisArg) {\n\t\treturn this.indexWhere(filter, thisArg) >= 0;\n\t};\n\n\t/**\n\t * Return `true` if `filter` against every item in my array is truthy\n\t * \n\t * @method every\n\t * @param {function} filter - The function to check against\n\t * @param {*} thisArg - Object to use as `this` when executing `filter`.\n\t * @return {boolean} - `true` if some item matches `filter`. `false` otherwise\n\t * @see some\n\t * @example\n\t *     var arr = cjs([2,4,6]);\n\t *     arr.some(function(x) { return x%2===0; }); // true\n\t */\n\tproto.every = function(filter, thisArg) {\n\t\tvar rv = true;\n\t\tthis.forEach(function() {\n\t\t\tif(!filter.apply(thisArg, arguments)) { // break on the first non-obeying element\n\t\t\t\trv = false;\n\t\t\t\treturn my.BREAK;\n\t\t\t}\n\t\t});\n\t\treturn rv;\n\t};\n\n\t/**\n\t * The splice() method changes the content of an array, adding new elements while removing old elements.\n\t *\n\t * @method splice\n\t * @param {number} index - Index at which to start changing the array. If greater than the length of the array,\n\t * no elements will be removed.\n\t * @param {number} howMany - An integer indicating the number of old array elements to remove.\n\t * If howMany is 0, no elements are removed. In this case, you should specify at least one new element.\n\t * If howMany is greater than the number of elements left in the array starting at index,\n\t * then all of the elements through the end of the array will be deleted.\n\t * @param {*} ...elements - The elements to add to the array. If you don't specify any elements,\n\t * splice simply removes elements from the array.\n\t * @return {array.*} - An array containing the removed elements. If only one element is removed,\n\t * an array of one element is returned. If no elements are removed, an empty array is returned.\n\t *\n\t * @see push\n\t * @see pop\n\t * @see shift\n\t * @see unshift\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     arr.splice(0,2,'x','y'); //['a','b']\n\t *     arr.toArray(); // ['x','y','c']\n\t */\n\tproto.splice = function (index, howmany) {\n\t\tvar i;\n\t\tif (!isNumber(howmany)) { howmany = 0; }\n\t\tif (!isPositiveInteger(index) || !isPositiveInteger(howmany)) {\n\t\t\tthrow new Error(\"index and howmany must be positive integers\");\n\t\t}\n\t\tvar to_insert = slice.call(arguments, 2),\n\t\t\tto_insert_len = to_insert.length;\n\n\t\t// Don't run any listeners until we're done\n\t\tcjs_wait();\n\t\t// It's useful to keep track of if the resulting shift size is negative because\n\t\t// that will influence which direction we loop in\n\t\tvar resulting_shift_size = to_insert_len - howmany;\n\n\t\t// removed will hold the items that were removed\n\t\tvar removed = map(this._value.slice(index, index + howmany), function(x) {\n\t\t\treturn x ? x.get() : undefined;\n\t\t});\n\n\t\t// If we have to remove items\n\t\tif (resulting_shift_size < 0) {\n\t\t\tvar value_len = this._value.length,\n\t\t\t\tinsertion_max = index + to_insert_len,\n\t\t\t\tmovement_max = value_len + resulting_shift_size;\n\n\t\t\t// If it's in the insertion range, use the user-specified insert\n\t\t\tfor (i = index; i<insertion_max; i += 1) {\n\t\t\t\t_put(this, i, to_insert[i - index]);\n\t\t\t}\n\n\t\t\t// Otherwise, use put (don't use splice here to make sure that \n\t\t\t// item i has the same constraint object (for dependency purposes)\n\t\t\tfor (; i<movement_max; i += 1) {\n\t\t\t\t_put(this, i, _get(this, i - resulting_shift_size));\n\t\t\t}\n\n\t\t\t// Then, just get rid of the last resulting_shift_size elements\n\t\t\tfor (; i<value_len; i += 1) {\n\t\t\t\tvar $value = this._value.pop(); // $value should be a constraint\n\t\t\t\tif (is_constraint($value)) {  // and dealocate\n\t\t\t\t\t$value.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i = this._value.length + resulting_shift_size - 1; i >= index; i -= 1) {\n\t\t\t\tif (i < index + to_insert_len) {\n\t\t\t\t\t// If it's in the insertion range...\n\t\t\t\t\t_put(this, i, to_insert[i - index]);\n\t\t\t\t} else {\n\t\t\t\t\t// If not...\n\t\t\t\t\t_put(this, i, _get(this, i - resulting_shift_size));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(resulting_shift_size !== 0) { // Don't bother if no resulting shift\n\t\t\t_update_len(this);\n\t\t}\n\n\t\tcjs_signal(); // And finally run any listeners\n\t\treturn removed;\n\t};\n\n\t/**\n\t * The shift() method removes the first element from an array and returns that element.\n\t * This method changes the length of the array.\n\t *\n\t * @method shift\n\t * @return {*} - The element that was removed\n\t *\n\t * @see unshift\n\t * @see push\n\t * @see pop\n\t * @see splice\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     arr.shift(); // 'a'\n\t *     arr.toArray(); //['b','c']\n\t */\n\tproto.shift = function () {\n\t\tvar rv_arr = this.splice(0, 1);\n\t\treturn rv_arr[0];\n\t};\n\n\t/**\n\t * The unshift() method adds one or more elements to the beginning of an array and returns the new length\n\t * of the array.\n\t *\n\t * @method unshift\n\t * @param {*} ...elements - The elements to be added\n\t * @return {number} - The new array length\n\t *\n\t * @see shift\n\t * @see push\n\t * @see pop\n\t * @see splice\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     arr.unshift('x','y'); // 5\n\t *     arr.toArray(); //['x','y','a','b','c']\n\t */\n\tproto.unshift = function () {\n\t\tthis.splice.apply(this, ([0, 0]).concat(toArray(arguments)));\n\t\treturn this.length();\n\t};\n\n\t/**\n\t * The concat() method returns a new array comprised of this array joined with other array(s) and/or value(s).\n\t *\n\t * @method concat\n\t * @param {*} ...values - Arrays and/or values to concatenate to the resulting array.\n\t * @return {array} The concatenated array\n\t * @example\n\t *     var arr1 = cjs(['a','b','c']),\n\t *     arr2 = cjs(['x']);\n\t *     arr1.concat(arr2); // ['a','b','c','x']\n\t */\n\tproto.concat = function () {\n\t\t// Every argument could either be a JS array or array constraint\n\t\tvar args = map(arguments, function(arg) {\n\t\t\treturn is_array(arg) ? arg.toArray() : arg;\n\t\t});\n\t\tvar my_val = this.toArray();\n\t\treturn my_val.concat.apply(my_val, args);\n\t};\n\n\t/**\n\t * The slice() method returns a portion of an array.\n\t *\n\t * @method slice\n\t * @param {number} [begin=0] - Zero-based index at which to begin extraction.\n\t * @param {number} [end=this.length] - Zero-based index at which to end extraction. slice extracts up to but not including end.\n\t * @return {array} A JavaScript array\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     arr.slice(1); // ['b','c']\n\t */\n\tproto.slice = function () {\n\t\t// Just call the normal slice with the same arguments\n\t\tvar sliced_arr = this._value.slice.apply(this._value, arguments);\n\t\treturn map(sliced_arr, function(x) {\n\t\t\treturn x ? x.get() : undefined;\n\t\t});\n\t};\n\n\t/**\n\t * Return a constraint whose value is bound to my value for key\n\t *\n\t * @method itemConstraint\n\t * @param {number|Constraint} key - The array index\n\t * @return {Constraint} - A constraint whose value is `this[key]`\n\t * @example\n\t *     var arr = cjs(['a','b','c']);\n\t *     var first_item = arr.itemConstraint(0);\n\t *     first_item.get(); // 'a'\n\t *     arr.item(0,'x');\n\t *     first_item.get(); // 'x'\n\t */\n\tproto.itemConstraint = function(key) {\n\t\treturn new Constraint(function() {\n\t\t\t// Call cjs_get on the key so the key can also be a constraint\n\t\t\treturn this.item(cjs_get(key));\n\t\t}, {\n\t\t\tcontext: this\n\t\t});\n\t};\n\n\t/**\n\t * The filter() method creates a new array with all elements that pass the test implemented by the provided function.\n\t *\n\t * @method filter\n\t * @param {function} callback - Function to test each element of the array.\n\t * @param {*} [thisObject] - Object to use as this when executing callback.\n\t * @return {array} A filtered JavaScript array\n\t */\n\t/**\n\t * The join() method joins all elements of an array into a string.\n\t *\n\t * @method join\n\t * @param {string} [separator=','] - Specifies a string to separate each element of the array.\n\t * The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma.\n\t * @return {string} The joined string\n\t */\n\t/**\n\t * The sort() method sorts the elements of an array in place and returns the array.\n\t * The default sort order is lexicographic (not numeric).\n\t *\n\t * @method sort\n\t * @param {function} [compreFunction] - Specifies a function that defines the sort order. If omitted,\n\t * the array is sorted lexicographically (in dictionary order) according to the string conversion of each element.\n\t * @return {array} A sofrted JavaScript array\n\t */\n\t/**\n\t * The reverse() method reverses an array in place. The first array element becomes the last and the last becomes the first.\n\t *\n\t * @method reverse\n\t * @return {array} A JavaScript array whose value is the reverse of mine\n\t */\n\t/**\n\t * The toString() method returns a string representing the specified array and its elements.\n\t *\n\t * @method toString\n\t * @return {string} A string representation of this array.\n\t */\n\teach([\"filter\", \"join\", \"sort\", \"reverse\", \"toString\"], function (fn_name) {\n\t\t// All of these functions will just convert to an array and return that\n\t\tproto[fn_name] = function () {\n\t\t\tvar my_val = this.toArray();\n\t\t\treturn my_val[fn_name].apply(my_val, arguments);\n\t\t};\n\t});\n}(ArrayConstraint));\n/** @lends */\n\n/**\n * Determine whether an object is an array constraint\n * @method cjs.isArrayConstraint\n * @param {*} obj - An object to check\n * @return {boolean} - `true` if `obj` is a `cjs.ArrayConstraint`, `false` otherwise\n */\nconst is_array = function(obj) {\n\treturn obj instanceof ArrayConstraint;\n};\n\n/**\n * Create an array constraint\n * @method cjs.array\n * @constructs cjs.ArrayConstraint\n * @param {Object} [options] - A set of options to control how the array constraint is evaluated\n * @return {cjs.ArrayConstraint} - A new array constraint object\n * @see cjs.ArrayConstraint\n * @example\n *     var arr = cjs.array({\n *         value: [1,2,3]\n *     });\n */\nconst cjs_array = function (options) { return new ArrayConstraint(options); };\n\nexport default cjs_array;\nexport { is_array, ArrayConstraint }\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/array.js\n **/","import root from \"./root\";\nimport { extend, slice } from \"./util\";\nimport { Constraint } from \"./core\";\nimport { MapConstraint } from \"./map\";\n\n// A function to hash the arguments passed in. By default, just a concatenation of the arguments' string value\nvar memoize_default_hash = function () {\n\tvar i, len = arguments.length;\n\tvar rv = \"\";\n\tfor (i = 0; i < len; i += 1) {\n\t\trv += arguments[i];\n\t}\n\treturn rv;\n},\n// A function to check if two sets of arguments are equal; by default just check every value\nmemoize_default_equals = function (args1, args2) {\n\tvar i,\n\t\tlen = args1.length;\n\tif (len === args2.length) {\n\t\tfor (i = 0; i < len; i += 1) {\n\t\t\tvar arg1 = args1[i],\n\t\t\t\targ2 = args2[i];\n\t\t\tif (arg1 !== arg2) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n};\n\n\t/**\n\t * Memoize a function to avoid unnecessary re-evaluation. Its options are:\n\t *\n\t * - `hash`: Create a unique value for each set of arguments (call with an argument array)\n\t * - `equals`: check if two sets of arguments are equal (call with two argument arrays)\n\t * - `context`: The context in which `getter_fn` should be evaluated\n\t * - `literal_values`: Whether values should be literal if they are functions\n\t *\n\t * The return value of this method also has two functions:\n\t * - `each`: Iterate through every set of arguments and value that is memoized\n\t * - `destroy`: Clear the memoized values to clean up memory\n\t *\n\t * @method cjs.memoize\n\t * @param {function} getter_fn - The function to memoize\n\t * @param {object} [options] - A set of options to control how memoization works\n\t * @return {function} The memoized function\n\t *\n\t * @example\n\t *\n\t *     var arr = cjs([3,2,1,4,5,10]),\n\t *     get_nth_largest = cjs.memoize(function(n) {\n\t *         console.log('recomputing');\n\t *         var sorted_arr = arr memoized fn.sort();\n\t *         return sorted_arr[ny];\n\t *     });\n\t *\n\t *     get_nth_largest(0); // logfged: recomputing\n\t *     get_nth_largest(0); //ulli (nothing logged because answer memoized)\n\t *     arr.splice(0, 1); // N\n\t *     get_nth_largest(0); // logged: recomputing\n\t */\nexport default function memoize (getter_fn, options) {\n\t\toptions = extend({\n\t\t\thash: memoize_default_hash,\n\t\t\tequals: memoize_default_equals,\n\t\t\tcontext: root,\n\t\t\tliteral_values: true\n\t\t}, options);\n\n\t\t// Map from args to value\n\t\toptions.args_map = new MapConstraint({\n\t\t\thash: options.hash,\n\t\t\tequals: options.equals,\n\t\t\tliteral_values: options.literal_values\n\t\t});\n\n\t\t// When getting a value either create a constraint or return the existing value\n\t\tvar rv = function () {\n\t\t\tvar args = slice.call(arguments),\n\t\t\t\tconstraint = options.args_map.getOrPut(args, function() {\n\t\t\t\t\treturn new Constraint(function () {\n\t\t\t\t\t\treturn getter_fn.apply(options.context, args);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\treturn constraint.get();\n\t\t};\n\n\t\t// Clean up memory after self\n\t\trv.destroy = function (silent) {\n\t\t\toptions.args_map.forEach(function (constraint) {\n\t\t\t\tconstraint.destroy(silent);\n\t\t\t});\n\t\t\toptions.args_map.destroy(silent);\n\t\t};\n\n\t\t// Run through every argument and call fn on it\n\t\trv.each = function (fn) {\n\t\t\toptions.args_map.forEach(fn);\n\t\t};\n\t\trv.options = options;\n\t\treturn rv;\n\t}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/memoize.js\n **/","import { extend, each } from \"./util\";\nimport root from \"./root\";\nimport { Constraint, constraint_solver } from \"./core\";\n\n// Liven\n// -----\n\n\t/**\n\t * Memoize a function to avoid unnecessary re-evaluation. Its options are:\n\t *\n\t * - `context`: The context in which `func` should be evaluated\n\t * - `run_on_create`: Whether to run `func` immediately after creating the live function. (default: `true`)\n\t * - `pause_while_running`: Whether to explicitly prevent this live function from being called recursively (default: `false`)\n\t * - `on_destroy`: A function to call when `destroy` is called (default: `false`)\n\t *\n\t * The return value of this method also has two functions:\n\t * - `pause`: Pause evaluation of the live function\n\t * - `resume`: Resume evaluation of the live function\n\t * - `run`: Run `func` if it's invalid\n\t *\n\t * @method cjs.liven\n\t * @param {function} func - The function to make live\n\t * @param {object} [options] - A set of options to control how liven works\n\t * @return {object} An object with properties `destroy`, `pause`, `resume`, and `run`\n\t *\n\t * @example\n\t *     var x_val = cjs(0);\n\t *     var api_update = cjs.liven(function() {\n\t *         console.log('updating other x');\n\t *         other_api.setX(x_val);\n\t *     }); // 'updating other x'\n\t *     x_val.set(2); // 'updating other x'\n\t *\t\t\n\t */\nexport default function liven(func, options) {\n\t\t\t\toptions = extend({\n\t\t\t\t\tcontext: root, // what to equate `this` to\n\t\t\t\t\trun_on_create: true, // whether it should run immediately\n\t\t\t\t\tpause_while_running: false, // whether to allow the function to be called recursively (indirectly)\n\t\t\t\t\tpriority: false,\n\t\t\t\t\ton_destroy: false // a function to call when this liven function is destroyed\n\t\t\t\t}, options);\n\n\t\t\t\t//Make constraint-aware values just by calling func in a constraint\n\t\t\t\tvar node = new Constraint(func, {\n\t\t\t\t\tcontext: options.context,\n\t\t\t\t\tcache_value: false,\n\t\t\t\t\tauto_add_outgoing_dependencies: false,\n\t\t\t\t\trun_on_add_listener: false\n\t\t\t\t});\n\n\t\t\t\t// check if running\n\t\t\t\tvar paused = false;\n\t\t\t\tvar do_get;\n\n\t\t\t\tvar invalidate = function() {\n\t\t\t\t\tnode.invalidate();\n\t\t\t\t};\n\n\t\t\t\t// Destroy the node and make sure no memory is allocated\n\t\t\t\tvar destroy = function (silent) {\n\t\t\t\t\tif(options.on_destroy) {\n\t\t\t\t\t\toptions.on_destroy.call(options.context, silent);\n\t\t\t\t\t}\n\t\t\t\t\tnode.destroy(silent);\n\t\t\t\t};\n\n\t\t\t\t// Stop changing and remove it from the event queue if necessary\n\t\t\t\tvar pause = function () {\n\t\t\t\t\tif(paused === false) {\n\t\t\t\t\t\tpaused = true;\n\t\t\t\t\t\tnode.offChange(do_get);\n\t\t\t\t\t\treturn true; // successfully paused\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\t// Re-add to the event queue\n\t\t\t\tvar resume = function () {\n\t\t\t\t\tif(paused === true) {\n\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\tnode.onChangeWithPriority(options.priority, do_get);\n\t\t\t\t\t\tif(options.run_on_create !== false) {\n\t\t\t\t\t\t\tif (constraint_solver.semaphore >= 0) {\n\t\t\t\t\t\t\t\tnode.get(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\teach(node._changeListeners, constraint_solver.add_in_call_stack, constraint_solver);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true; // successfully resumed\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\t// The actual getter, will call the constraint's getter\n\t\t\t\tdo_get = function () {\n\t\t\t\t\tif (options.pause_while_running) {\n\t\t\t\t\t\tpause();\n\t\t\t\t\t}\n\t\t\t\t\tnode.get();\n\t\t\t\t\tif (options.pause_while_running) {\n\t\t\t\t\t\tresume();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// When the value changes, call do_get\n\t\t\t\tnode.onChangeWithPriority(options.priority, do_get);\n\n\t\t\t\tvar rv = {\n\t\t\t\t\tdestroy: destroy,\n\t\t\t\t\tpause: pause,\n\t\t\t\t\tresume: resume,\n\t\t\t\t\trun: function(arg0) {\n\t\t\t\t\t\tdo_get(arg0);\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t},\n\t\t\t\t\tinvalidate: invalidate,\n\t\t\t\t\t_constraint: node // for debugging purposes\n\t\t\t\t};\n\n\t\t\t\tif(options.run_on_create !== false) {\n\t\t\t\t\tif (constraint_solver.semaphore >= 0) {\n\t\t\t\t\t\tnode.get(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teach(node._changeListeners, constraint_solver.add_in_call_stack, constraint_solver);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn rv;\n\t\t\t}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/liven.js\n **/"],"sourceRoot":""}